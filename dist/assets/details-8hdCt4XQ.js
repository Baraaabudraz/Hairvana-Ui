import{j as e,a0 as D,Y as T,$ as E,a1 as y,a2 as w,a3 as b,Z as M,_ as A,a4 as O,B as L,a5 as C,a6 as S,a7 as I,z as g,a8 as F,C as z,a9 as R}from"./ui-vendor-B2pFoMNi.js";import{k as $,u as U,a as N,L as p}from"./react-vendor-C7H4r9IR.js";import{h as q,B as l,C as i,d as n,A as _,f as P,g as k,b as o,c as m}from"./index-DyoA978M.js";import{B as v}from"./badge-DN3GUanR.js";import{a as G,u as J,d as K}from"./salons-B0SwCEqs.js";import"./db-vendor-BXl3LOEh.js";import"./data-vendor-CIeUuS6O.js";import"./charts-vendor-BwF8VYvl.js";const V={active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",suspended:"bg-red-100 text-red-800"},W={Basic:"bg-gray-100 text-gray-800",Standard:"bg-blue-100 text-blue-800",Premium:"bg-purple-100 text-purple-800"},X=c=>{if(!c)return"N/A";try{const x=new Date(c);return isNaN(x.getTime())?"Invalid Date":x.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}};function ie(){const c=$(),x=U(),{toast:d}=q(),[s,u]=N.useState(null),[B,f]=N.useState(!0);N.useEffect(()=>{const a=async()=>{try{f(!0);try{const t=await G(c.id);console.log("API response data:",t);const r={...t,services:t.services||[],hours:t.hours||{},images:t.images||[]};console.log("Processed salon data:",r),u(r)}catch(t){console.warn("API fetch failed, using mock data:",t);const j={1:{id:"1",name:"Luxe Hair Studio",email:"info@luxehair.com",phone:"+1 (555) 123-4567",address:"123 Beverly Hills Blvd, Beverly Hills, CA 90210",location:"Beverly Hills, CA",status:"active",subscription:"Premium",join_date:"2024-01-15",revenue:12450,bookings:156,rating:4.8,services:[{id:"1",name:"Haircut",price:50,duration:30},{id:"2",name:"Hair Color",price:100,duration:60},{id:"3",name:"Hair Styling",price:70,duration:45},{id:"4",name:"Hair Extensions",price:200,duration:120},{id:"5",name:"Hair Treatment",price:150,duration:90}],hours:{monday:"9:00 AM - 7:00 PM",tuesday:"9:00 AM - 7:00 PM",wednesday:"9:00 AM - 7:00 PM",thursday:"9:00 AM - 7:00 PM",friday:"9:00 AM - 7:00 PM",saturday:"10:00 AM - 6:00 PM",sunday:"Closed"},website:"https://luxehair.com",description:"Premium hair salon offering luxury hair services in Beverly Hills.",owner_id:"3",owner_name:"Maria Rodriguez",owner_email:"maria@luxehair.com",owner_phone:"+1 (555) 345-6789",business_license:"CA123456789",tax_id:"12-3456789",images:["https://images.pexels.com/photos/3993449/pexels-photo-3993449.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/3993450/pexels-photo-3993450.jpeg?auto=compress&cs=tinysrgb&w=800"]},2:{id:"2",name:"Style Cuts",email:"info@stylecuts.com",phone:"+1 (555) 234-5678",address:"456 Market St, San Francisco, CA 94105",location:"San Francisco, CA",status:"active",subscription:"Standard",join_date:"2024-01-20",revenue:8900,bookings:98,rating:4.5,services:[{id:"6",name:"Haircut",price:40,duration:30},{id:"7",name:"Hair Color",price:90,duration:60},{id:"8",name:"Beard Trim",price:30,duration:20}],hours:{monday:"8:00 AM - 6:00 PM",tuesday:"8:00 AM - 6:00 PM",wednesday:"8:00 AM - 6:00 PM",thursday:"8:00 AM - 6:00 PM",friday:"8:00 AM - 6:00 PM",saturday:"9:00 AM - 5:00 PM",sunday:"Closed"},website:"https://stylecuts.com",description:"Modern hair salon in downtown San Francisco.",owner_id:"4",owner_name:"David Chen",owner_email:"david@stylecuts.com",owner_phone:"+1 (555) 456-7890",business_license:"CA987654321",tax_id:"98-7654321",images:["https://images.pexels.com/photos/3993451/pexels-photo-3993451.jpeg?auto=compress&cs=tinysrgb&w=800"]},3:{id:"3",name:"Beauty Haven",email:"info@beautyhaven.com",phone:"+1 (555) 345-6789",address:"789 Oak Ave, Los Angeles, CA 90001",location:"Los Angeles, CA",status:"pending",subscription:"Basic",join_date:"2024-02-01",revenue:3200,bookings:45,rating:4.2,services:[{id:"9",name:"Haircut",price:45,duration:30},{id:"10",name:"Hair Styling",price:60,duration:45},{id:"11",name:"Hair Treatment",price:140,duration:90}],hours:{monday:"10:00 AM - 6:00 PM",tuesday:"10:00 AM - 6:00 PM",wednesday:"10:00 AM - 6:00 PM",thursday:"10:00 AM - 6:00 PM",friday:"10:00 AM - 6:00 PM",saturday:"10:00 AM - 4:00 PM",sunday:"Closed"},description:"Cozy neighborhood salon providing quality hair services.",owner_id:"5",owner_name:"Lisa Thompson",owner_email:"lisa@beautyhaven.com",owner_phone:"+1 (555) 567-8901",business_license:"CA456789123",images:[]}}[c.id];if(j)u(j);else throw new Error("Salon not found")}}catch(t){console.error("Error loading salon:",t),d({title:"Error",description:"Failed to load salon details. Please try again.",variant:"destructive"})}finally{f(!1)}};c.id&&a()},[c.id,d]);const h=async a=>{if(s)try{await J(s.id,a),u(r=>r?{...r,status:a}:null),d({title:"Status updated",description:{active:"Salon has been activated",pending:"Salon has been set to pending",suspended:"Salon has been suspended"}[a]})}catch{d({title:"Error",description:"Failed to update salon status. Please try again.",variant:"destructive"})}},H=async()=>{if(s)try{await K(s.id),d({title:"Salon deleted",description:"The salon has been permanently removed from the platform."}),x("/dashboard/salons")}catch{d({title:"Error",description:"Failed to delete salon. Please try again.",variant:"destructive"})}};return B?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{to:"/dashboard/salons",children:e.jsx(l,{variant:"ghost",size:"icon",children:e.jsx(D,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.name}),e.jsx("p",{className:"text-gray-600",children:"Salon Details & Management"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{to:`/dashboard/salons/${s.id}/edit`,children:e.jsxs(l,{variant:"outline",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Edit"]})}),e.jsxs(l,{variant:"outline",className:"text-red-600 hover:text-red-700",onClick:H,children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),e.jsx(i,{className:"border-0 shadow-sm",children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(_,{className:"h-16 w-16",children:[e.jsx(P,{src:s.images?.[0],alt:s.name}),e.jsx(k,{className:"text-lg",children:s.name.split(" ").map(a=>a[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(v,{className:V[s.status],children:s.status}),e.jsx(v,{className:W[s.subscription],children:s.subscription})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"h-4 w-4"}),s.location]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"h-4 w-4 text-yellow-500"}),s.rating]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"h-4 w-4"}),"Joined ",X(s.join_date)]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[s.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{className:"bg-green-600 hover:bg-green-700",onClick:()=>h("active"),children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Approve"]}),e.jsxs(l,{variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>h("suspended"),children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),s.status==="active"&&e.jsxs(l,{variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>h("suspended"),children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Suspend"]}),s.status==="suspended"&&e.jsxs(l,{className:"bg-green-600 hover:bg-green-700",onClick:()=>h("active"),children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Reactivate"]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(i,{className:"border-0 shadow-sm",children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",s.revenue?.toLocaleString()]})]}),e.jsx(O,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(i,{className:"border-0 shadow-sm",children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Bookings"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.bookings})]}),e.jsx(b,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(i,{className:"border-0 shadow-sm",children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rating"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.rating})]}),e.jsx(w,{className:"h-8 w-8 text-yellow-500"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{className:"border-0 shadow-sm",children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Contact Information"]})}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Phone"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.phone})]})]}),s.website&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Website"}),e.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-purple-600 hover:text-purple-700",children:s.website})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(y,{className:"h-4 w-4 text-gray-400 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Address"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.address})]})]})]})]}),e.jsxs(i,{className:"border-0 shadow-sm",children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5"}),"Owner Information"]})}),e.jsxs(n,{className:"space-y-4",children:[s.owner_avatar&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(_,{className:"h-8 w-8",children:[e.jsx(P,{src:s.owner_avatar,alt:s.owner_name||"Owner"}),e.jsx(k,{children:s.owner_name?.charAt(0)||"O"})]}),e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium",children:"Owner Avatar"})})]}),s.owner_name&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Owner Name"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.owner_name})]})]}),s.owner_email&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Owner Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.owner_email})]})]}),s.owner_phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Owner Phone"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.owner_phone})]})]}),s.owner_id&&e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(p,{to:`/dashboard/users/${s.owner_id}`,children:e.jsxs(l,{variant:"outline",size:"sm",children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),"View Owner Profile"]})})}),s.business_license&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Business License"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.business_license})]})]}),s.tax_id&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Tax ID"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.tax_id})]})]})]})]})]}),s.description&&e.jsxs(i,{className:"border-0 shadow-sm",children:[e.jsx(o,{children:e.jsx(m,{children:"About"})}),e.jsx(n,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description})})]}),e.jsxs(i,{className:"border-0 shadow-sm",children:[e.jsx(o,{children:e.jsx(m,{children:"Services Offered"})}),e.jsx(n,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(s.services||[]).map((a,t)=>{const r=typeof a=="string"?a:a?.name||"Unknown Service",j=typeof a=="string"?a:a?.id||t;return!r||r==="Unknown Service"?null:e.jsx(v,{variant:"secondary",children:r},j)})})})]}),e.jsxs(i,{className:"border-0 shadow-sm",children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),"Operating Hours"]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(s.hours||{}).map(([a,t])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium capitalize text-gray-900",children:a}),e.jsx("span",{className:"text-sm text-gray-600",children:t})]},a))})})]}),s.images&&s.images.length>0&&e.jsxs(i,{className:"border-0 shadow-sm",children:[e.jsx(o,{children:e.jsx(m,{children:"Salon Images"})}),e.jsx(n,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:(s.images||[]).map((a,t)=>e.jsx("div",{className:"aspect-square rounded-lg overflow-hidden",children:e.jsx("img",{src:a,alt:`${s.name} image ${t+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform cursor-pointer"})},t))})})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Salon not found"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"The salon you're looking for doesn't exist."}),e.jsx(p,{to:"/dashboard/salons",children:e.jsx(l,{className:"mt-4",children:"Back to Salons"})})]})})}export{ie as default};
