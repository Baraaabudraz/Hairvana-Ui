import{j as e,z as oe,i as X,g as ee,a7 as Ie,C as me,ah as se,aI as Me,aJ as q,ac as Te,aa as Be,ab as K,E as Re,d as Le,aK as ze,al as Y,af as Z,Y as Ue,$ as ne,Q as re,ad as ce,aL as Ke,aM as We,aN as Ge,e as Ve,a5 as de,aF as $e,aG as qe}from"./ui-vendor-B2pFoMNi.js";import{a as u}from"./react-vendor-C7H4r9IR.js";import{u as Oe,h as Ye,C as y,b as f,c as N,e as v,d as b,A as He,f as Je,g as Qe,B as r,I as t,L as i}from"./index-DyoA978M.js";import{B as Ze}from"./badge-DN3GUanR.js";import{S as E,a as F,b as D,c as I,d as l}from"./select-_2QWMkjB.js";import{f as Xe,a as es,b as ss,u as as,c as is,d as ts,e as ls,g as ns,h as rs,i as cs}from"./settings-C5ECF_Nx.js";import{D as ds,a as os,b as ms,c as hs,e as xs}from"./dialog-C5VgeWe5.js";import"./db-vendor-BXl3LOEh.js";import"./data-vendor-CIeUuS6O.js";import"./charts-vendor-BwF8VYvl.js";const us=[{id:"profile",title:"Profile Settings",description:"Manage your personal account information",icon:oe,category:"account"},{id:"security",title:"Security & Privacy",description:"Configure security settings and privacy options",icon:X,category:"security"},{id:"notifications",title:"Notification Preferences",description:"Control how and when you receive notifications",icon:ee,category:"account"},{id:"platform",title:"Platform Configuration",description:"General platform settings and branding",icon:Ie,category:"platform"},{id:"billing",title:"Billing & Payments",description:"Payment methods and billing configuration",icon:me,category:"platform"},{id:"integrations",title:"Integrations & APIs",description:"Third-party integrations and API settings",icon:se,category:"integrations"},{id:"system",title:"System Settings",description:"Advanced system configuration and maintenance",icon:Me,category:"system"},{id:"backup",title:"Backup & Recovery",description:"Data backup and disaster recovery settings",icon:q,category:"system"}];function Cs(){const[W,he]=u.useState("profile"),[h,G]=u.useState(!1),[V,xe]=u.useState(!1),[d,S]=u.useState(null),[w,k]=u.useState(null),[C,M]=u.useState(null),[n,o]=u.useState(null),[p,P]=u.useState(null),[g,R]=u.useState(null),[L,z]=u.useState({email:!0,push:!0,sms:!1,desktop:!0,marketing_emails:!0,system_notifications:!0}),[T,O]=u.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[ae,ue]=u.useState(""),{user:x}=Oe(),{toast:_}=Ye(),[pe,$]=u.useState(!1),[H,ie]=u.useState(null),[A,J]=u.useState({brand:"",last4:"",expiry:""});u.useEffect(()=>{te()},[W]);const te=async()=>{try{if(G(!0),["profile","security","notifications","backup","billing"].includes(W))try{const s=await Xe();s.profile?S({id:s.profile.id||x?.id||"",name:s.profile.name||x?.name||"",email:s.profile.email||x?.email||"",phone:s.profile.phone||"",avatar:s.profile.avatar||x?.avatar||"",role:s.profile.role||x?.role||"",department:s.profile.department||"Administration",timezone:s.profile.timezone||"America/New_York",language:s.profile.language||"en",notifications:{email:!0,push:!0,sms:!1,desktop:!0},twoFactorEnabled:s.security?.two_factor_enabled||!1,lastLogin:s.profile.last_login||new Date().toISOString()}):S({id:x?.id||"",name:x?.name||"",email:x?.email||"",phone:"",avatar:x?.avatar||"",role:x?.role||"",department:"Administration",timezone:"America/New_York",language:"en",notifications:{email:!0,push:!0,sms:!1,desktop:!0},twoFactorEnabled:!1,lastLogin:new Date().toISOString()}),s.security&&M(s.security),s.notifications&&z(s.notifications),s.billing&&P({defaultPaymentMethod:s.billing.default_payment_method||"",billingAddress:s.billing.billing_address||"",taxId:s.billing.tax_id||"",invoiceEmail:s.billing.invoice_email||"",autoPay:typeof s.billing.auto_pay=="boolean"?s.billing.auto_pay:!1,paymentMethods:Array.isArray(s.billing.payment_methods)?s.billing.payment_methods:[]}),s.backup&&R(s.backup)}catch(s){console.error("Error loading user settings:",s),_({title:"Error",description:"Failed to load user settings. Using default values.",variant:"destructive"}),x&&S({id:x.id,name:x.name,email:x.email,phone:"",avatar:x.avatar||"",role:x.role,department:"Administration",timezone:"America/New_York",language:"en",notifications:{email:!0,push:!0,sms:!1,desktop:!0},twoFactorEnabled:!1,lastLogin:new Date().toISOString()})}if(W==="platform")try{const s=await es();k(s)}catch(s){console.error("Error loading platform settings:",s)}if(W==="integrations")try{const s=await ss();o(s?{emailProvider:s.email_provider,emailApiKey:s.email_api_key,smsProvider:s.sms_provider,smsApiKey:s.sms_api_key,paymentGateway:s.payment_gateway,paymentApiKey:s.payment_api_key,analyticsProvider:s.analytics_provider,analyticsTrackingId:s.analytics_tracking_id,socialLogins:s.social_logins,webhooks:s.webhooks,stripe_enabled:s.stripe_enabled,email_enabled:s.email_enabled,sms_enabled:s.sms_enabled,stripe_webhook_secret:s.stripe_webhook_secret}:{emailProvider:"sendgrid",emailApiKey:"",smsProvider:"twilio",smsApiKey:"",paymentGateway:"stripe",paymentApiKey:"",analyticsProvider:"google",analyticsTrackingId:"",socialLogins:{google:!0,facebook:!1,apple:!1},webhooks:[],stripe_enabled:!0,email_enabled:!0,sms_enabled:!0,stripe_webhook_secret:""})}catch(s){console.error("Error loading integration settings:",s)}}catch(s){console.error("Error loading settings:",s),_({title:"Error",description:"Failed to load settings. Please try again.",variant:"destructive"})}finally{G(!1)}},U=async s=>{G(!0);try{switch(s){case"Profile":d&&await cs({name:d.name,email:d.email,phone:d.phone,department:d.department,timezone:d.timezone,language:d.language,avatar:ae||d.avatar});break;case"Security":C&&await rs({two_factor_enabled:d?.twoFactorEnabled,password_last_changed:new Date().toISOString(),login_attempts:0,session_timeout:C.lockoutDuration});break;case"Notifications":await ns(L);break;case"Billing":if(p){const a={invoice_email:p.invoiceEmail,default_payment_method:p.defaultPaymentMethod,billing_address:p.billingAddress,tax_id:p.taxId,auto_pay:p.autoPay,payment_methods:Array.isArray(p.paymentMethods)?p.paymentMethods:[]};await ls(a),await te()}break;case"Backup":g&&await ts(g);break;case"Platform":w&&await is(w);break;case"Integrations":if(n){const a={email_provider:n.emailProvider,email_api_key:n.emailApiKey,sms_provider:n.smsProvider,sms_api_key:n.smsApiKey,payment_gateway:n.paymentGateway,payment_api_key:n.paymentApiKey,analytics_provider:n.analyticsProvider,analytics_tracking_id:n.analyticsTrackingId,social_logins:n.socialLogins,webhooks:n.webhooks,stripe_enabled:n.stripe_enabled,email_enabled:n.email_enabled,sms_enabled:n.sms_enabled,stripe_webhook_secret:n.stripe_webhook_secret};await as(a)}break}_({title:"Settings saved",description:`${s} settings have been updated successfully.`})}catch{_({title:"Error saving settings",description:"Please try again later.",variant:"destructive"})}finally{G(!1)}},ge=async()=>{if(T.newPassword!==T.confirmPassword){_({title:"Passwords do not match",description:"New password and confirmation must match.",variant:"destructive"});return}G(!0);try{await new Promise(s=>setTimeout(s,1e3)),_({title:"Password updated",description:"Your password has been changed successfully."}),O({currentPassword:"",newPassword:"",confirmPassword:""})}catch{_({title:"Error updating password",description:"Please try again later.",variant:"destructive"})}finally{G(!1)}},je=s=>{s.target.files?.[0]&&ue("https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&dpr=2")};(()=>{switch(d?.role){case"super_admin":return Te;case"admin":return X;default:return oe}})();const ye=()=>{ie(null),J({brand:"",last4:"",expiry:""}),$(!0)},fe=s=>{ie(s);const a=p?.paymentMethods?.[s];J(a?{...a}:{brand:"",last4:"",expiry:""}),$(!0)},Ne=s=>{P(a=>a?{...a,paymentMethods:a.paymentMethods.filter((c,m)=>m!==s)}:null)},Q=s=>{J({...A,[s.target.name]:s.target.value})},ve=()=>{!A.brand||!A.last4||!A.expiry||(P(s=>{if(!s)return s;const a={...s};return H!==null?a.paymentMethods[H]={...A}:a.paymentMethods=[...a.paymentMethods||[],{...A}],a}),$(!1))},be=s=>{P(a=>{if(!a)return a;const c=[...a.paymentMethods||[]];if(s>0){const[m]=c.splice(s,1);c.unshift(m)}return{...a,paymentMethods:c}})},le=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"Personal Information"}),e.jsx(v,{children:"Update your personal details and contact information"})]}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(He,{className:"h-24 w-24",children:[e.jsx(Je,{src:ae||d?.avatar,alt:d?.name}),e.jsx(Qe,{className:"text-lg",children:d?.name?.split(" ").map(s=>s[0]).join("")||"A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{variant:"outline",children:e.jsxs("label",{htmlFor:"avatar",className:"cursor-pointer flex items-center gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),"Upload Photo"]})}),e.jsx(t,{id:"avatar",type:"file",accept:"image/*",onChange:je,className:"hidden"}),e.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG up to 2MB"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",children:"Full Name"}),e.jsx(t,{id:"name",value:d?.name||"",onChange:s=>S(a=>a?{...a,name:s.target.value}:null)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",children:"Email Address"}),e.jsx(t,{id:"email",type:"email",value:d?.email||"",onChange:s=>S(a=>a?{...a,email:s.target.value}:null)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"phone",children:"Phone Number"}),e.jsx(t,{id:"phone",value:d?.phone||"",onChange:s=>S(a=>a?{...a,phone:s.target.value}:null)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"department",children:"Department"}),e.jsx(t,{id:"department",value:d?.department||"",onChange:s=>S(a=>a?{...a,department:s.target.value}:null)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"timezone",children:"Timezone"}),e.jsxs(E,{value:d?.timezone||"America/New_York",onValueChange:s=>S(a=>a?{...a,timezone:s}:null),children:[e.jsx(F,{children:e.jsx(D,{})}),e.jsxs(I,{children:[e.jsx(l,{value:"America/New_York",children:"Eastern Time (ET)"}),e.jsx(l,{value:"America/Chicago",children:"Central Time (CT)"}),e.jsx(l,{value:"America/Denver",children:"Mountain Time (MT)"}),e.jsx(l,{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),e.jsx(l,{value:"UTC",children:"UTC"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"language",children:"Language"}),e.jsxs(E,{value:d?.language||"en",onValueChange:s=>S(a=>a?{...a,language:s}:null),children:[e.jsx(F,{children:e.jsx(D,{})}),e.jsxs(I,{children:[e.jsx(l,{value:"en",children:"English"}),e.jsx(l,{value:"es",children:"Spanish"}),e.jsx(l,{value:"fr",children:"French"}),e.jsx(l,{value:"de",children:"German"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(r,{onClick:()=>U("Profile"),disabled:h,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),h?"Saving...":"Save Changes"]})})]})]}),e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"Change Password"}),e.jsx(v,{children:"Update your password to keep your account secure"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"currentPassword",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(t,{id:"currentPassword",type:V?"text":"password",placeholder:"Enter current password",value:T.currentPassword,onChange:s=>O(a=>({...a,currentPassword:s.target.value}))}),e.jsx("button",{type:"button",onClick:()=>xe(!V),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:V?e.jsx(Re,{className:"w-4 h-4"}):e.jsx(Le,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"newPassword",children:"New Password"}),e.jsx(t,{id:"newPassword",type:V?"text":"password",placeholder:"Enter new password",value:T.newPassword,onChange:s=>O(a=>({...a,newPassword:s.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx(t,{id:"confirmPassword",type:V?"text":"password",placeholder:"Confirm new password",value:T.confirmPassword,onChange:s=>O(a=>({...a,confirmPassword:s.target.value}))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(r,{variant:"outline",onClick:ge,disabled:h||!T.currentPassword||!T.newPassword||!T.confirmPassword,children:[e.jsx(ze,{className:"h-4 w-4 mr-2"}),h?"Updating...":"Update Password"]})})]})]})]}),we=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"Two-Factor Authentication"}),e.jsx(v,{children:"Add an extra layer of security to your account"})]}),e.jsx(b,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(X,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-600",children:d?.twoFactorEnabled?"Enabled":"Disabled"})]})]}),e.jsx(r,{variant:d?.twoFactorEnabled?"outline":"default",onClick:()=>S(s=>s?{...s,twoFactorEnabled:!s.twoFactorEnabled}:null),children:d?.twoFactorEnabled?"Disable":"Enable"})]})})]}),e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"Security Policies"}),e.jsx(v,{children:"Configure platform-wide security settings"})]}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"passwordExpiry",children:"Password Expiry (days)"}),e.jsx(t,{id:"passwordExpiry",type:"number",value:C?.passwordExpiry||90,onChange:s=>M(a=>a?{...a,passwordExpiry:parseInt(s.target.value)}:null)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"maxLoginAttempts",children:"Max Login Attempts"}),e.jsx(t,{id:"maxLoginAttempts",type:"number",value:C?.maxLoginAttempts||5,onChange:s=>M(a=>a?{...a,maxLoginAttempts:parseInt(s.target.value)}:null)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"lockoutDuration",children:"Lockout Duration (minutes)"}),e.jsx(t,{id:"lockoutDuration",type:"number",value:C?.lockoutDuration||15,onChange:s=>M(a=>a?{...a,lockoutDuration:parseInt(s.target.value)}:null)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"dataRetention",children:"Data Retention (days)"}),e.jsx(t,{id:"dataRetention",type:"number",value:C?.dataRetentionPeriod||365,onChange:s=>M(a=>a?{...a,dataRetentionPeriod:parseInt(s.target.value)}:null)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Require Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Force all users to enable 2FA"})]}),e.jsx("input",{type:"checkbox",checked:C?.twoFactorRequired||!1,onChange:s=>M(a=>a?{...a,twoFactorRequired:s.target.checked}:null),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"SSL/TLS Encryption"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enforce HTTPS connections"})]}),e.jsx("input",{type:"checkbox",checked:C?.sslEnabled||!0,onChange:s=>M(a=>a?{...a,sslEnabled:s.target.checked}:null),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Audit Logging"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Log all user actions and system events"})]}),e.jsx("input",{type:"checkbox",checked:C?.auditLogging||!0,onChange:s=>M(a=>a?{...a,auditLogging:s.target.checked}:null),className:"rounded"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(r,{onClick:()=>U("Security"),disabled:h,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),h?"Saving...":"Save Security Settings"]})})]})]})]}),ke=()=>e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"Notification Preferences"}),e.jsx(v,{children:"Choose how you want to receive notifications"})]}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(de,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email"})]})]}),e.jsx("input",{type:"checkbox",checked:L.email,onChange:s=>z(a=>({...a,email:s.target.checked})),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive push notifications in browser"})]})]}),e.jsx("input",{type:"checkbox",checked:L.push,onChange:s=>z(a=>({...a,push:s.target.checked})),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via SMS"})]})]}),e.jsx("input",{type:"checkbox",checked:L.sms,onChange:s=>z(a=>({...a,sms:s.target.checked})),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Desktop Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Show desktop notifications"})]})]}),e.jsx("input",{type:"checkbox",checked:L.desktop,onChange:s=>z(a=>({...a,desktop:s.target.checked})),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(de,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Marketing Emails"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive marketing and promotional emails"})]})]}),e.jsx("input",{type:"checkbox",checked:L.marketing_emails,onChange:s=>z(a=>({...a,marketing_emails:s.target.checked})),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"System Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive system updates and alerts"})]})]}),e.jsx("input",{type:"checkbox",checked:L.system_notifications,onChange:s=>z(a=>({...a,system_notifications:s.target.checked})),className:"rounded"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(r,{onClick:()=>U("Notifications"),disabled:h,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),h?"Saving...":"Save Preferences"]})})]})]}),Se=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"Payment Methods"}),e.jsx(v,{children:"Manage your payment methods and billing preferences"})]}),e.jsxs(b,{className:"space-y-4",children:[(p?.paymentMethods||[]).map((s,a)=>e.jsxs("div",{className:"p-4 border rounded-lg mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[s.brand," ending in ",s.last4]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Expires ",s.expiry]})]})]}),a===0&&e.jsx(Ze,{children:"Default"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>fe(a),children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(r,{variant:"outline",size:"sm",className:"text-red-600",onClick:()=>Ne(a),children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),"Remove"]}),a!==0&&e.jsx(r,{variant:"outline",size:"sm",onClick:()=>be(a),children:"Set as Default"})]})]},a)),e.jsxs(r,{variant:"outline",className:"w-full",onClick:ye,children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]}),e.jsx(ds,{open:pe,onOpenChange:$,children:e.jsxs(os,{children:[e.jsx(ms,{children:e.jsx(hs,{children:H!==null?"Edit Payment Method":"Add Payment Method"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"brand",children:"Card Brand"}),e.jsx(t,{id:"brand",name:"brand",value:A.brand,onChange:Q,placeholder:"Visa, MasterCard, etc."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"last4",children:"Last 4 Digits"}),e.jsx(t,{id:"last4",name:"last4",value:A.last4,onChange:Q,placeholder:"1234",maxLength:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"expiry",children:"Expiry"}),e.jsx(t,{id:"expiry",name:"expiry",value:A.expiry,onChange:Q,placeholder:"MM/YYYY"})]})]}),e.jsxs(xs,{children:[e.jsx(r,{onClick:ve,className:"bg-purple-600 hover:bg-purple-700",children:"Save"}),e.jsx(r,{variant:"outline",onClick:()=>$(!1),children:"Cancel"})]})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Billing Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"defaultPaymentMethod",children:"Default Payment Method"}),e.jsx(t,{id:"defaultPaymentMethod",placeholder:"e.g. Visa ending in 4242",value:p?.defaultPaymentMethod||"",onChange:s=>P(a=>a?{...a,defaultPaymentMethod:s.target.value}:null)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"billingAddress",children:"Billing Address"}),e.jsx(t,{id:"billingAddress",placeholder:"Enter billing address",value:p?.billingAddress||"",onChange:s=>P(a=>a?{...a,billingAddress:s.target.value}:null)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Auto-pay Invoices"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Automatically pay invoices when due"})]}),e.jsx("input",{type:"checkbox",checked:p?.autoPay||!1,onChange:s=>P(a=>a?{...a,autoPay:s.target.checked}:null),className:"rounded"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"invoiceEmail",children:"Invoice Email"}),e.jsx(t,{id:"invoiceEmail",type:"email",placeholder:"finance@company.com",value:p?.invoiceEmail||"",onChange:s=>P(a=>a?{...a,invoiceEmail:s.target.value}:null)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Where to send invoice receipts and payment notifications"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),e.jsx(t,{id:"taxId",placeholder:"Enter tax ID",value:p?.taxId||"",onChange:s=>P(a=>a?{...a,taxId:s.target.value}:null)})]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs(r,{onClick:()=>U("Billing"),disabled:h,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),h?"Saving...":"Save Billing Settings"]})})]})]})}),Ce=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"Backup Configuration"}),e.jsx(v,{children:"Configure automatic backups and data recovery options"})]}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(q,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Automatic Backups"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Schedule regular data backups"})]})]}),e.jsx("input",{type:"checkbox",checked:g?.autoBackup||!0,onChange:s=>R(a=>a?{...a,autoBackup:s.target.checked}:null),className:"rounded"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"backupFrequency",children:"Backup Frequency"}),e.jsxs(E,{value:g?.backupFrequency||"daily",onValueChange:s=>R(a=>a?{...a,backupFrequency:s}:null),disabled:!g?.autoBackup,children:[e.jsx(F,{children:e.jsx(D,{})}),e.jsxs(I,{children:[e.jsx(l,{value:"hourly",children:"Hourly"}),e.jsx(l,{value:"daily",children:"Daily"}),e.jsx(l,{value:"weekly",children:"Weekly"}),e.jsx(l,{value:"monthly",children:"Monthly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"backupTime",children:"Backup Time"}),e.jsx(t,{id:"backupTime",type:"time",value:g?.backupTime||"00:00",onChange:s=>R(a=>a?{...a,backupTime:s.target.value}:null),disabled:!g?.autoBackup})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"retentionDays",children:"Retention Period (days)"}),e.jsx(t,{id:"retentionDays",type:"number",value:g?.retentionDays||30,onChange:s=>R(a=>a?{...a,retentionDays:parseInt(s.target.value)}:null),disabled:!g?.autoBackup}),e.jsx("p",{className:"text-xs text-gray-500",children:"How long to keep backup files"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"storageProvider",children:"Storage Provider"}),e.jsxs(E,{value:g?.storageProvider||"local",onValueChange:s=>R(a=>a?{...a,storageProvider:s}:null),disabled:!g?.autoBackup,children:[e.jsx(F,{children:e.jsx(D,{})}),e.jsxs(I,{children:[e.jsx(l,{value:"local",children:"Local Storage"}),e.jsx(l,{value:"s3",children:"Amazon S3"}),e.jsx(l,{value:"gcs",children:"Google Cloud Storage"}),e.jsx(l,{value:"azure",children:"Azure Blob Storage"})]})]})]})]}),g?.storageProvider!=="local"&&e.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[e.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"Cloud Storage Configuration"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"storagePath",children:"Storage Path"}),e.jsx(t,{id:"storagePath",placeholder:"backups/hairvana",value:g?.storagePath||"",onChange:s=>R(a=>a?{...a,storagePath:s.target.value}:null)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"cloudCredentials",children:"API Key / Credentials"}),e.jsx(t,{id:"cloudCredentials",type:"password",placeholder:"Enter API key or credentials"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Credentials are encrypted before storage"})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(r,{variant:"outline",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Manual Backup"]}),e.jsxs(r,{onClick:()=>U("Backup"),disabled:h,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),h?"Saving...":"Save Backup Settings"]})]})]})]}),e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"Backup History"}),e.jsx(v,{children:"View and restore previous backups"})]}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(q,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Daily Backup"}),e.jsx("p",{className:"text-sm text-gray-600",children:"June 15, 2024 - 00:00"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Size: 24.5 MB"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Download"]}),e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Restore"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(q,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Daily Backup"}),e.jsx("p",{className:"text-sm text-gray-600",children:"June 14, 2024 - 00:00"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Size: 24.2 MB"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Download"]}),e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Restore"]})]})]})]})})]})]}),Pe=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"General Settings"}),e.jsx(v,{children:"Configure basic platform settings and branding"})]}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"siteName",children:"Site Name"}),e.jsx(t,{id:"siteName",value:w?.siteName||"Hairvana",onChange:s=>k(a=>a?{...a,siteName:s.target.value}:null)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"currency",children:"Currency"}),e.jsxs(E,{value:w?.currency||"USD",onValueChange:s=>k(a=>a?{...a,currency:s}:null),children:[e.jsx(F,{children:e.jsx(D,{})}),e.jsxs(I,{children:[e.jsx(l,{value:"USD",children:"USD - US Dollar"}),e.jsx(l,{value:"EUR",children:"EUR - Euro"}),e.jsx(l,{value:"GBP",children:"GBP - British Pound"}),e.jsx(l,{value:"CAD",children:"CAD - Canadian Dollar"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"siteDescription",children:"Site Description"}),e.jsx("textarea",{id:"siteDescription",rows:3,className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",value:w?.siteDescription||"Professional Salon Management Platform",onChange:s=>k(a=>a?{...a,siteDescription:s.target.value}:null)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"primaryColor",children:"Primary Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{id:"primaryColor",value:w?.primaryColor||"#8b5cf6",onChange:s=>k(a=>a?{...a,primaryColor:s.target.value}:null)}),e.jsx("input",{type:"color",value:w?.primaryColor||"#8b5cf6",onChange:s=>k(a=>a?{...a,primaryColor:s.target.value}:null),className:"w-12 h-10 rounded border"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"secondaryColor",children:"Secondary Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{id:"secondaryColor",value:w?.secondaryColor||"#ec4899",onChange:s=>k(a=>a?{...a,secondaryColor:s.target.value}:null)}),e.jsx("input",{type:"color",value:w?.secondaryColor||"#ec4899",onChange:s=>k(a=>a?{...a,secondaryColor:s.target.value}:null),className:"w-12 h-10 rounded border"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Maintenance Mode"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Temporarily disable public access"})]}),e.jsx("input",{type:"checkbox",checked:w?.maintenanceMode||!1,onChange:s=>k(a=>a?{...a,maintenanceMode:s.target.checked}:null),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"User Registration"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Allow new users to register"})]}),e.jsx("input",{type:"checkbox",checked:w?.registrationEnabled||!0,onChange:s=>k(a=>a?{...a,registrationEnabled:s.target.checked}:null),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email Verification"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Require email verification for new accounts"})]}),e.jsx("input",{type:"checkbox",checked:w?.emailVerificationRequired||!0,onChange:s=>k(a=>a?{...a,emailVerificationRequired:s.target.checked}:null),className:"rounded"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(r,{onClick:()=>U("Platform"),disabled:h,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),h?"Saving...":"Save Platform Settings"]})})]})]})}),_e=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"API Integrations"}),e.jsx(v,{children:"Configure third-party service integrations"})]}),e.jsx(b,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Email Service"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"emailProvider",children:"Provider"}),e.jsxs(E,{value:n?.emailProvider||"sendgrid",onValueChange:s=>o(a=>a&&{...a,emailProvider:s}),children:[e.jsx(F,{children:e.jsx(D,{})}),e.jsxs(I,{children:[e.jsx(l,{value:"sendgrid",children:"SendGrid"}),e.jsx(l,{value:"mailgun",children:"Mailgun"}),e.jsx(l,{value:"ses",children:"Amazon SES"}),e.jsx(l,{value:"postmark",children:"Postmark"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"emailApiKey",children:"API Key"}),e.jsx(t,{id:"emailApiKey",type:"password",placeholder:"Enter API key",value:n?.emailApiKey||"",onChange:s=>o(a=>a?{...a,emailApiKey:s.target.value}:null)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"SMS Service"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"smsProvider",children:"Provider"}),e.jsxs(E,{value:n?.smsProvider||"twilio",onValueChange:s=>o(a=>a&&{...a,smsProvider:s}),children:[e.jsx(F,{children:e.jsx(D,{})}),e.jsxs(I,{children:[e.jsx(l,{value:"twilio",children:"Twilio"}),e.jsx(l,{value:"nexmo",children:"Nexmo"}),e.jsx(l,{value:"messagebird",children:"MessageBird"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"smsApiKey",children:"API Key"}),e.jsx(t,{id:"smsApiKey",type:"password",placeholder:"Enter API key",value:n?.smsApiKey||"",onChange:s=>o(a=>a?{...a,smsApiKey:s.target.value}:null)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Payment Gateway"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"paymentGateway",children:"Provider"}),e.jsxs(E,{value:n?.paymentGateway||"stripe",onValueChange:s=>o(a=>a&&{...a,paymentGateway:s}),children:[e.jsx(F,{children:e.jsx(D,{})}),e.jsxs(I,{children:[e.jsx(l,{value:"stripe",children:"Stripe"}),e.jsx(l,{value:"paypal",children:"PayPal"}),e.jsx(l,{value:"square",children:"Square"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"paymentApiKey",children:"API Key"}),e.jsx(t,{id:"paymentApiKey",type:"password",placeholder:"Enter API key",value:n?.paymentApiKey||"",onChange:s=>o(a=>a?{...a,paymentApiKey:s.target.value}:null)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Analytics"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"analyticsProvider",children:"Provider"}),e.jsxs(E,{value:n?.analyticsProvider||"google",onValueChange:s=>o(a=>a&&{...a,analyticsProvider:s}),children:[e.jsx(F,{children:e.jsx(D,{})}),e.jsxs(I,{children:[e.jsx(l,{value:"google",children:"Google Analytics"}),e.jsx(l,{value:"mixpanel",children:"Mixpanel"}),e.jsx(l,{value:"amplitude",children:"Amplitude"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"analyticsTrackingId",children:"Tracking ID"}),e.jsx(t,{id:"analyticsTrackingId",placeholder:"Enter tracking ID",value:n?.analyticsTrackingId||"",onChange:s=>o(a=>a?{...a,analyticsTrackingId:s.target.value}:null)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Feature Toggles"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{htmlFor:"stripeEnabled",children:"Enable Stripe Payments"}),e.jsx("input",{id:"stripeEnabled",type:"checkbox",checked:n?.stripe_enabled??!0,onChange:s=>o(a=>a&&{...a,stripe_enabled:s.target.checked}),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{htmlFor:"emailEnabled",children:"Enable Email"}),e.jsx("input",{id:"emailEnabled",type:"checkbox",checked:n?.email_enabled??!0,onChange:s=>o(a=>a&&{...a,email_enabled:s.target.checked}),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{htmlFor:"smsEnabled",children:"Enable SMS"}),e.jsx("input",{id:"smsEnabled",type:"checkbox",checked:n?.sms_enabled??!0,onChange:s=>o(a=>a&&{...a,sms_enabled:s.target.checked}),className:"rounded"})]})]})]})})]}),n?.stripe_enabled&&e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"Webhook Configuration"}),e.jsx(v,{children:"Configure webhooks for third-party integrations and payment processing"})]}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Stripe Webhook Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"stripeWebhookSecret",children:"Stripe Webhook Secret"}),e.jsx(t,{id:"stripeWebhookSecret",type:"password",placeholder:"whsec_...",value:n?.stripe_webhook_secret||"",onChange:s=>o(a=>a?{...a,stripe_webhook_secret:s.target.value}:null)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Get this from your Stripe Dashboard → Webhooks → Select webhook → Signing secret"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"stripeWebhookUrl",children:"Stripe Webhook URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{id:"stripeWebhookUrl",value:`${window.location.origin}/backend/api/mobile/payments/webhook`,readOnly:!0,className:"bg-gray-50"}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>navigator.clipboard.writeText(`${window.location.origin}/backend/api/mobile/payments/webhook`),children:"Copy"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Use this URL in your Stripe Dashboard webhook configuration"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold",children:"Custom Webhooks"}),e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>{const s={id:Date.now().toString(),name:"",url:"",events:[],active:!0};o(a=>a?{...a,webhooks:[...a.webhooks||[],s]}:null)},children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Add Webhook"]})]}),(n?.webhooks||[]).map((s,a)=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h5",{className:"font-medium",children:["Webhook ",a+1]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>{o(c=>c?{...c,webhooks:c.webhooks?.map((m,j)=>j===a?{...m,active:!m.active}:m)||[]}:null)},children:s.active?"Disable":"Enable"}),e.jsx(r,{variant:"outline",size:"sm",className:"text-red-600",onClick:()=>{o(c=>c?{...c,webhooks:c.webhooks?.filter((m,j)=>j!==a)||[]}:null)},children:e.jsx(ne,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:`webhook-name-${a}`,children:"Webhook Name"}),e.jsx(t,{id:`webhook-name-${a}`,placeholder:"e.g., Order Notifications",value:s.name,onChange:c=>{o(m=>m?{...m,webhooks:m.webhooks?.map((j,B)=>B===a?{...j,name:c.target.value}:j)||[]}:null)}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:`webhook-url-${a}`,children:"Webhook URL"}),e.jsx(t,{id:`webhook-url-${a}`,placeholder:"https://your-domain.com/webhook",value:s.url,onChange:c=>{o(m=>m?{...m,webhooks:m.webhooks?.map((j,B)=>B===a?{...j,url:c.target.value}:j)||[]}:null)}})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Events to Listen For"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["appointment.created","appointment.updated","appointment.cancelled","payment.succeeded","payment.failed","payment.refunded","user.registered","user.updated","salon.created","salon.updated"].map(c=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`${s.id}-${c}`,checked:s.events.includes(c),onChange:m=>{o(j=>j?{...j,webhooks:j.webhooks?.map((B,Fe)=>Fe===a?{...B,events:m.target.checked?[...B.events,c]:B.events.filter(De=>De!==c)}:B)||[]}:null)},className:"rounded"}),e.jsx(i,{htmlFor:`${s.id}-${c}`,className:"text-sm",children:c})]},c))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.active?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:"text-sm text-gray-600",children:s.active?"Active":"Inactive"})]})]},s.id)),(!n?.webhooks||n.webhooks.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(se,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No custom webhooks configured"}),e.jsx("p",{className:"text-sm",children:"Add webhooks to receive real-time notifications"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Test Webhooks"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(r,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",onClick:()=>{_({title:"Webhook Test",description:"Test webhook sent successfully"})},children:[e.jsx(se,{className:"h-6 w-6 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Test Stripe Webhook"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Send test payment event"})]}),e.jsxs(r,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",onClick:()=>{_({title:"Webhook Test",description:"Test webhooks sent to all active endpoints"})},children:[e.jsx(ce,{className:"h-6 w-6 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Test All Webhooks"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Send test to all active webhooks"})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(r,{onClick:()=>U("Integrations"),disabled:h,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),h?"Saving...":"Save Integration Settings"]})})]}),Ae=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"System Information"}),e.jsx(v,{children:"Current system status and information"})]}),e.jsx(b,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ce,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"System Status"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Online"}),e.jsx("p",{className:"text-sm text-gray-600",children:"99.9% uptime"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ke,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"CPU Usage"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"45%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"4 cores active"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(We,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"Storage"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"67%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"2.1TB used"})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{className:"font-medium",children:"Network"})]}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"Good"}),e.jsx("p",{className:"text-sm text-gray-600",children:"125ms latency"})]})]})})]}),e.jsxs(y,{className:"border-0 shadow-sm",children:[e.jsxs(f,{children:[e.jsx(N,{children:"System Maintenance"}),e.jsx(v,{children:"Perform system maintenance tasks"})]}),e.jsx(b,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(r,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[e.jsx(Z,{className:"h-6 w-6 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Clear Cache"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Clear system cache"})]}),e.jsxs(r,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[e.jsx(q,{className:"h-6 w-6 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Optimize Database"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Optimize database performance"})]}),e.jsxs(r,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[e.jsx(Y,{className:"h-6 w-6 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"Export Data"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Export system data"})]}),e.jsxs(r,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[e.jsx(Ve,{className:"h-6 w-6 text-orange-600"}),e.jsx("span",{className:"font-medium",children:"Generate Report"}),e.jsx("span",{className:"text-xs text-gray-500",children:"System health report"})]})]})})]})]}),Ee=()=>{switch(W){case"profile":return le();case"security":return we();case"notifications":return ke();case"platform":return Pe();case"integrations":return _e();case"system":return Ae();case"billing":return Se();case"backup":return Ce();default:return le()}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account and platform settings"})]})}),e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"w-64 space-y-1",children:us.map(s=>{const a=s.icon;return e.jsx("button",{onClick:()=>he(s.id),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${W===s.id?"bg-purple-100 text-purple-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-xs text-gray-500",children:s.description})]})]})},s.id)})}),e.jsx("div",{className:"flex-1",children:Ee()})]})]})}export{Cs as default};
