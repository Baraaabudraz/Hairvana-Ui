import{c as te,a as Ye}from"./react-vendor-C7H4r9IR.js";import{j as rr}from"./ui-vendor-B2pFoMNi.js";const Xt=t=>{let e;const s=new Set,r=(h,p)=>{const w=typeof h=="function"?h(e):h;if(!Object.is(w,e)){const A=e;e=p??(typeof w!="object"||w===null)?w:Object.assign({},e,w),s.forEach(ee=>ee(e,A))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>d,subscribe:h=>(s.add(h),()=>s.delete(h))},d=e=t(r,i,a);return a},ir=t=>t?Xt(t):Xt,nr=t=>t;function ar(t,e=nr){const s=te.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return te.useDebugValue(s),s}const or=t=>{const e=ir(t),s=r=>ar(e,r);return Object.assign(s,e),s},Fi=t=>or;var We=t=>t.type==="checkbox",Ce=t=>t instanceof Date,K=t=>t==null;const Fs=t=>typeof t=="object";var L=t=>!K(t)&&!Array.isArray(t)&&Fs(t)&&!Ce(t),ur=t=>L(t)&&t.target?We(t.target)?t.target.checked:t.target.value:t,cr=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,lr=(t,e)=>t.has(cr(e)),dr=t=>{const e=t.constructor&&t.constructor.prototype;return L(e)&&e.hasOwnProperty("isPrototypeOf")},Nt=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Q(t){let e;const s=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Nt&&(t instanceof Blob||r))&&(s||L(t)))if(e=s?[]:{},!s&&!dr(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Q(t[i]));else return t;return e}var ft=t=>/^\w*$/.test(t),q=t=>t===void 0,Pt=t=>Array.isArray(t)?t.filter(Boolean):[],It=t=>Pt(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_=(t,e,s)=>{if(!e||!L(t))return s;const r=(ft(e)?[e]:It(e)).reduce((i,n)=>K(i)?i:i[n],t);return q(r)||r===t?q(t[e])?s:t[e]:r},de=t=>typeof t=="boolean",P=(t,e,s)=>{let r=-1;const i=ft(e)?[e]:It(e),n=i.length,o=n-1;for(;++r<n;){const a=i[r];let d=s;if(r!==o){const h=t[a];d=L(h)||Array.isArray(h)?h:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=d,t=t[a]}};const es={BLUR:"blur",FOCUS_OUT:"focusout"},oe={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ye={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fr=te.createContext(null);fr.displayName="HookFormContext";var hr=(t,e,s,r=!0)=>{const i={defaultValues:e._defaultValues};for(const n in t)Object.defineProperty(i,n,{get:()=>{const o=n;return e._proxyFormState[o]!==oe.all&&(e._proxyFormState[o]=!r||oe.all),t[o]}});return i};const yr=typeof window<"u"?Ye.useLayoutEffect:Ye.useEffect;var fe=t=>typeof t=="string",mr=(t,e,s,r,i)=>fe(t)?(r&&e.watch.add(t),_(s,t,i)):Array.isArray(t)?t.map(n=>(r&&e.watch.add(n),_(s,n))):(r&&(e.watchAll=!0),s),pr=(t,e,s,r,i)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[r]:i||!0}}:{},Ue=t=>Array.isArray(t)?t:[t],ts=()=>{let t=[];return{get observers(){return t},next:i=>{for(const n of t)n.next&&n.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(n=>n!==i)}}),unsubscribe:()=>{t=[]}}},St=t=>K(t)||!Fs(t);function xe(t,e,s=new WeakSet){if(St(t)||St(e))return t===e;if(Ce(t)&&Ce(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(s.has(t)||s.has(e))return!0;s.add(t),s.add(e);for(const n of r){const o=t[n];if(!i.includes(n))return!1;if(n!=="ref"){const a=e[n];if(Ce(o)&&Ce(a)||L(o)&&L(a)||Array.isArray(o)&&Array.isArray(a)?!xe(o,a,s):o!==a)return!1}}return!0}var X=t=>L(t)&&!Object.keys(t).length,Mt=t=>t.type==="file",ue=t=>typeof t=="function",Xe=t=>{if(!Nt)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Es=t=>t.type==="select-multiple",jt=t=>t.type==="radio",gr=t=>jt(t)||We(t),xt=t=>Xe(t)&&t.isConnected;function vr(t,e){const s=e.slice(0,-1).length;let r=0;for(;r<s;)t=q(t)?r++:t[e[r++]];return t}function _r(t){for(const e in t)if(t.hasOwnProperty(e)&&!q(t[e]))return!1;return!0}function U(t,e){const s=Array.isArray(e)?e:ft(e)?[e]:It(e),r=s.length===1?t:vr(t,s),i=s.length-1,n=s[i];return r&&delete r[n],i!==0&&(L(r)&&X(r)||Array.isArray(r)&&_r(r))&&U(t,s.slice(0,-1)),t}var Rs=t=>{for(const e in t)if(ue(t[e]))return!0;return!1};function et(t,e={}){const s=Array.isArray(t);if(L(t)||s)for(const r in t)Array.isArray(t[r])||L(t[r])&&!Rs(t[r])?(e[r]=Array.isArray(t[r])?[]:{},et(t[r],e[r])):K(t[r])||(e[r]=!0);return e}function Vs(t,e,s){const r=Array.isArray(t);if(L(t)||r)for(const i in t)Array.isArray(t[i])||L(t[i])&&!Rs(t[i])?q(e)||St(s[i])?s[i]=Array.isArray(t[i])?et(t[i],[]):{...et(t[i])}:Vs(t[i],K(e)?{}:e[i],s[i]):s[i]=!xe(t[i],e[i]);return s}var je=(t,e)=>Vs(t,e,et(e));const ss={value:!1,isValid:!1},rs={value:!0,isValid:!0};var Ds=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!q(t[0].attributes.value)?q(t[0].value)||t[0].value===""?rs:{value:t[0].value,isValid:!0}:rs:ss}return ss},Ns=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:r})=>q(t)?t:e?t===""?NaN:t&&+t:s&&fe(t)?new Date(t):r?r(t):t;const is={isValid:!1,value:null};var Ps=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,is):is;function ns(t){const e=t.ref;return Mt(e)?e.files:jt(e)?Ps(t.refs).value:Es(e)?[...e.selectedOptions].map(({value:s})=>s):We(e)?Ds(t.refs).value:Ns(q(e.value)?t.ref.value:e.value,t)}var br=(t,e,s,r)=>{const i={};for(const n of t){const o=_(e,n);o&&P(i,n,o._f)}return{criteriaMode:s,names:[...t],fields:i,shouldUseNativeValidation:r}},tt=t=>t instanceof RegExp,Ze=t=>q(t)?t:tt(t)?t.source:L(t)?tt(t.value)?t.value.source:t.value:t,as=t=>({isOnSubmit:!t||t===oe.onSubmit,isOnBlur:t===oe.onBlur,isOnChange:t===oe.onChange,isOnAll:t===oe.all,isOnTouch:t===oe.onTouched});const os="AsyncFunction";var xr=t=>!!t&&!!t.validate&&!!(ue(t.validate)&&t.validate.constructor.name===os||L(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===os)),kr=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),us=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const $e=(t,e,s,r)=>{for(const i of s||Object.keys(t)){const n=_(t,i);if(n){const{_f:o,...a}=n;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if($e(a,e))break}else if(L(a)&&$e(a,e))break}}};function cs(t,e,s){const r=_(t,s);if(r||ft(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const n=i.join("."),o=_(e,n),a=_(t,n);if(o&&!Array.isArray(o)&&s!==n)return{name:s};if(a&&a.type)return{name:n,error:a};if(a&&a.root&&a.root.type)return{name:`${n}.root`,error:a.root};i.pop()}return{name:s}}var wr=(t,e,s,r)=>{s(t);const{name:i,...n}=t;return X(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(o=>e[o]===(!r||oe.all))},Sr=(t,e,s)=>!t||!e||t===e||Ue(t).some(r=>r&&(s?r===e:r.startsWith(e)||e.startsWith(r))),Ar=(t,e,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(e||t):(s?r.isOnBlur:i.isOnBlur)?!t:(s?r.isOnChange:i.isOnChange)?t:!0,Or=(t,e)=>!Pt(_(t,e)).length&&U(t,e),Cr=(t,e,s)=>{const r=Ue(_(t,s));return P(r,"root",e[s]),P(t,s,r),t},Je=t=>fe(t);function ls(t,e,s="validate"){if(Je(t)||Array.isArray(t)&&t.every(Je)||de(t)&&!t)return{type:s,message:Je(t)?t:"",ref:e}}var De=t=>L(t)&&!tt(t)?t:{value:t,message:""},ds=async(t,e,s,r,i,n)=>{const{ref:o,refs:a,required:d,maxLength:h,minLength:p,min:w,max:A,pattern:ee,validate:M,name:C,valueAsNumber:B,mount:J}=t._f,T=_(s,C);if(!J||e.has(C))return{};const z=a?a[0]:o,W=V=>{i&&z.reportValidity&&(z.setCustomValidity(de(V)?"":V||""),z.reportValidity())},j={},Ae=jt(o),ve=We(o),mt=Ae||ve,ne=(B||Mt(o))&&q(o.value)&&q(T)||Xe(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,Oe=pr.bind(null,C,r,j),ce=(V,N,Z,H=ye.maxLength,Y=ye.minLength)=>{const le=V?N:Z;j[C]={type:V?H:Y,message:le,ref:o,...Oe(V?H:Y,le)}};if(n?!Array.isArray(T)||!T.length:d&&(!mt&&(ne||K(T))||de(T)&&!T||ve&&!Ds(a).isValid||Ae&&!Ps(a).isValid)){const{value:V,message:N}=Je(d)?{value:!!d,message:d}:De(d);if(V&&(j[C]={type:ye.required,message:N,ref:z,...Oe(ye.required,N)},!r))return W(N),j}if(!ne&&(!K(w)||!K(A))){let V,N;const Z=De(A),H=De(w);if(!K(T)&&!isNaN(T)){const Y=o.valueAsNumber||T&&+T;K(Z.value)||(V=Y>Z.value),K(H.value)||(N=Y<H.value)}else{const Y=o.valueAsDate||new Date(T),le=He=>new Date(new Date().toDateString()+" "+He),Me=o.type=="time",Ve=o.type=="week";fe(Z.value)&&T&&(V=Me?le(T)>le(Z.value):Ve?T>Z.value:Y>new Date(Z.value)),fe(H.value)&&T&&(N=Me?le(T)<le(H.value):Ve?T<H.value:Y<new Date(H.value))}if((V||N)&&(ce(!!V,Z.message,H.message,ye.max,ye.min),!r))return W(j[C].message),j}if((h||p)&&!ne&&(fe(T)||n&&Array.isArray(T))){const V=De(h),N=De(p),Z=!K(V.value)&&T.length>+V.value,H=!K(N.value)&&T.length<+N.value;if((Z||H)&&(ce(Z,V.message,N.message),!r))return W(j[C].message),j}if(ee&&!ne&&fe(T)){const{value:V,message:N}=De(ee);if(tt(V)&&!T.match(V)&&(j[C]={type:ye.pattern,message:N,ref:o,...Oe(ye.pattern,N)},!r))return W(N),j}if(M){if(ue(M)){const V=await M(T,s),N=ls(V,z);if(N&&(j[C]={...N,...Oe(ye.validate,N.message)},!r))return W(N.message),j}else if(L(M)){let V={};for(const N in M){if(!X(V)&&!r)break;const Z=ls(await M[N](T,s),z,N);Z&&(V={...Z,...Oe(N,Z.message)},W(Z.message),r&&(j[C]=V))}if(!X(V)&&(j[C]={ref:z,...V},!r))return j}}return W(!0),j};const Tr={mode:oe.onSubmit,reValidateMode:oe.onChange,shouldFocusError:!0};function Fr(t={}){let e={...Tr,...t},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:ue(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=L(e.defaultValues)||L(e.values)?Q(e.defaultValues||e.values)||{}:{},n=e.shouldUnregister?{}:Q(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={...p};const A={array:ts(),state:ts()},ee=e.criteriaMode===oe.all,M=u=>c=>{clearTimeout(h),h=setTimeout(u,c)},C=async u=>{if(!e.disabled&&(p.isValid||w.isValid||u)){const c=e.resolver?X((await ve()).errors):await ne(r,!0);c!==s.isValid&&A.state.next({isValid:c})}},B=(u,c)=>{!e.disabled&&(p.isValidating||p.validatingFields||w.isValidating||w.validatingFields)&&((u||Array.from(a.mount)).forEach(l=>{l&&(c?P(s.validatingFields,l,c):U(s.validatingFields,l))}),A.state.next({validatingFields:s.validatingFields,isValidating:!X(s.validatingFields)}))},J=(u,c=[],l,v,m=!0,y=!0)=>{if(v&&l&&!e.disabled){if(o.action=!0,y&&Array.isArray(_(r,u))){const k=l(_(r,u),v.argA,v.argB);m&&P(r,u,k)}if(y&&Array.isArray(_(s.errors,u))){const k=l(_(s.errors,u),v.argA,v.argB);m&&P(s.errors,u,k),Or(s.errors,u)}if((p.touchedFields||w.touchedFields)&&y&&Array.isArray(_(s.touchedFields,u))){const k=l(_(s.touchedFields,u),v.argA,v.argB);m&&P(s.touchedFields,u,k)}(p.dirtyFields||w.dirtyFields)&&(s.dirtyFields=je(i,n)),A.state.next({name:u,isDirty:ce(u,c),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else P(n,u,c)},T=(u,c)=>{P(s.errors,u,c),A.state.next({errors:s.errors})},z=u=>{s.errors=u,A.state.next({errors:s.errors,isValid:!1})},W=(u,c,l,v)=>{const m=_(r,u);if(m){const y=_(n,u,q(l)?_(i,u):l);q(y)||v&&v.defaultChecked||c?P(n,u,c?y:ns(m._f)):Z(u,y),o.mount&&C()}},j=(u,c,l,v,m)=>{let y=!1,k=!1;const D={name:u};if(!e.disabled){if(!l||v){(p.isDirty||w.isDirty)&&(k=s.isDirty,s.isDirty=D.isDirty=ce(),y=k!==D.isDirty);const I=xe(_(i,u),c);k=!!_(s.dirtyFields,u),I?U(s.dirtyFields,u):P(s.dirtyFields,u,!0),D.dirtyFields=s.dirtyFields,y=y||(p.dirtyFields||w.dirtyFields)&&k!==!I}if(l){const I=_(s.touchedFields,u);I||(P(s.touchedFields,u,l),D.touchedFields=s.touchedFields,y=y||(p.touchedFields||w.touchedFields)&&I!==l)}y&&m&&A.state.next(D)}return y?D:{}},Ae=(u,c,l,v)=>{const m=_(s.errors,u),y=(p.isValid||w.isValid)&&de(c)&&s.isValid!==c;if(e.delayError&&l?(d=M(()=>T(u,l)),d(e.delayError)):(clearTimeout(h),d=null,l?P(s.errors,u,l):U(s.errors,u)),(l?!xe(m,l):m)||!X(v)||y){const k={...v,...y&&de(c)?{isValid:c}:{},errors:s.errors,name:u};s={...s,...k},A.state.next(k)}},ve=async u=>{B(u,!0);const c=await e.resolver(n,e.context,br(u||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return B(u),c},mt=async u=>{const{errors:c}=await ve(u);if(u)for(const l of u){const v=_(c,l);v?P(s.errors,l,v):U(s.errors,l)}else s.errors=c;return c},ne=async(u,c,l={valid:!0})=>{for(const v in u){const m=u[v];if(m){const{_f:y,...k}=m;if(y){const D=a.array.has(y.name),I=m._f&&xr(m._f);I&&p.validatingFields&&B([v],!0);const re=await ds(m,a.disabled,n,ee,e.shouldUseNativeValidation&&!c,D);if(I&&p.validatingFields&&B([v]),re[y.name]&&(l.valid=!1,c))break;!c&&(_(re,y.name)?D?Cr(s.errors,re,y.name):P(s.errors,y.name,re[y.name]):U(s.errors,y.name))}!X(k)&&await ne(k,c,l)}}return l.valid},Oe=()=>{for(const u of a.unMount){const c=_(r,u);c&&(c._f.refs?c._f.refs.every(l=>!xt(l)):!xt(c._f.ref))&&pt(u)}a.unMount=new Set},ce=(u,c)=>!e.disabled&&(u&&c&&P(n,u,c),!xe(He(),i)),V=(u,c,l)=>mr(u,a,{...o.mount?n:q(c)?i:fe(u)?{[u]:c}:c},l,c),N=u=>Pt(_(o.mount?n:i,u,e.shouldUnregister?_(i,u,[]):[])),Z=(u,c,l={})=>{const v=_(r,u);let m=c;if(v){const y=v._f;y&&(!y.disabled&&P(n,u,Ns(c,y)),m=Xe(y.ref)&&K(c)?"":c,Es(y.ref)?[...y.ref.options].forEach(k=>k.selected=m.includes(k.value)):y.refs?We(y.ref)?y.refs.forEach(k=>{(!k.defaultChecked||!k.disabled)&&(Array.isArray(m)?k.checked=!!m.find(D=>D===k.value):k.checked=m===k.value||!!m)}):y.refs.forEach(k=>k.checked=k.value===m):Mt(y.ref)?y.ref.value="":(y.ref.value=m,y.ref.type||A.state.next({name:u,values:Q(n)})))}(l.shouldDirty||l.shouldTouch)&&j(u,m,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&Ve(u)},H=(u,c,l)=>{for(const v in c){if(!c.hasOwnProperty(v))return;const m=c[v],y=u+"."+v,k=_(r,y);(a.array.has(u)||L(m)||k&&!k._f)&&!Ce(m)?H(y,m,l):Z(y,m,l)}},Y=(u,c,l={})=>{const v=_(r,u),m=a.array.has(u),y=Q(c);P(n,u,y),m?(A.array.next({name:u,values:Q(n)}),(p.isDirty||p.dirtyFields||w.isDirty||w.dirtyFields)&&l.shouldDirty&&A.state.next({name:u,dirtyFields:je(i,n),isDirty:ce(u,y)})):v&&!v._f&&!K(y)?H(u,y,l):Z(u,y,l),us(u,a)&&A.state.next({...s}),A.state.next({name:o.mount?u:void 0,values:Q(n)})},le=async u=>{o.mount=!0;const c=u.target;let l=c.name,v=!0;const m=_(r,l),y=I=>{v=Number.isNaN(I)||Ce(I)&&isNaN(I.getTime())||xe(I,_(n,l,I))},k=as(e.mode),D=as(e.reValidateMode);if(m){let I,re;const Ke=c.type?ns(m._f):ur(u),_e=u.type===es.BLUR||u.type===es.FOCUS_OUT,er=!kr(m._f)&&!e.resolver&&!_(s.errors,l)&&!m._f.deps||Ar(_e,_(s.touchedFields,l),s.isSubmitted,D,k),_t=us(l,a,_e);P(n,l,Ke),_e?(m._f.onBlur&&m._f.onBlur(u),d&&d(0)):m._f.onChange&&m._f.onChange(u);const bt=j(l,Ke,_e),tr=!X(bt)||_t;if(!_e&&A.state.next({name:l,type:u.type,values:Q(n)}),er)return(p.isValid||w.isValid)&&(e.mode==="onBlur"?_e&&C():_e||C()),tr&&A.state.next({name:l,..._t?{}:bt});if(!_e&&_t&&A.state.next({...s}),e.resolver){const{errors:Jt}=await ve([l]);if(y(Ke),v){const sr=cs(s.errors,r,l),Yt=cs(Jt,r,sr.name||l);I=Yt.error,l=Yt.name,re=X(Jt)}}else B([l],!0),I=(await ds(m,a.disabled,n,ee,e.shouldUseNativeValidation))[l],B([l]),y(Ke),v&&(I?re=!1:(p.isValid||w.isValid)&&(re=await ne(r,!0)));v&&(m._f.deps&&Ve(m._f.deps),Ae(l,re,I,bt))}},Me=(u,c)=>{if(_(s.errors,c)&&u.focus)return u.focus(),1},Ve=async(u,c={})=>{let l,v;const m=Ue(u);if(e.resolver){const y=await mt(q(u)?u:m);l=X(y),v=u?!m.some(k=>_(y,k)):l}else u?(v=(await Promise.all(m.map(async y=>{const k=_(r,y);return await ne(k&&k._f?{[y]:k}:k)}))).every(Boolean),!(!v&&!s.isValid)&&C()):v=l=await ne(r);return A.state.next({...!fe(u)||(p.isValid||w.isValid)&&l!==s.isValid?{}:{name:u},...e.resolver||!u?{isValid:l}:{},errors:s.errors}),c.shouldFocus&&!v&&$e(r,Me,u?m:a.mount),v},He=u=>{const c={...o.mount?n:i};return q(u)?c:fe(u)?_(c,u):u.map(l=>_(c,l))},qt=(u,c)=>({invalid:!!_((c||s).errors,u),isDirty:!!_((c||s).dirtyFields,u),error:_((c||s).errors,u),isValidating:!!_(s.validatingFields,u),isTouched:!!_((c||s).touchedFields,u)}),Ws=u=>{u&&Ue(u).forEach(c=>U(s.errors,c)),A.state.next({errors:u?s.errors:{}})},Bt=(u,c,l)=>{const v=(_(r,u,{_f:{}})._f||{}).ref,m=_(s.errors,u)||{},{ref:y,message:k,type:D,...I}=m;P(s.errors,u,{...I,...c,ref:v}),A.state.next({name:u,errors:s.errors,isValid:!1}),l&&l.shouldFocus&&v&&v.focus&&v.focus()},Hs=(u,c)=>ue(u)?A.state.subscribe({next:l=>u(V(void 0,c),l)}):V(u,c,!0),Qt=u=>A.state.subscribe({next:c=>{Sr(u.name,c.name,u.exact)&&wr(c,u.formState||p,Xs,u.reRenderRoot)&&u.callback({values:{...n},...s,...c})}}).unsubscribe,Ks=u=>(o.mount=!0,w={...w,...u.formState},Qt({...u,formState:w})),pt=(u,c={})=>{for(const l of u?Ue(u):a.mount)a.mount.delete(l),a.array.delete(l),c.keepValue||(U(r,l),U(n,l)),!c.keepError&&U(s.errors,l),!c.keepDirty&&U(s.dirtyFields,l),!c.keepTouched&&U(s.touchedFields,l),!c.keepIsValidating&&U(s.validatingFields,l),!e.shouldUnregister&&!c.keepDefaultValue&&U(i,l);A.state.next({values:Q(n)}),A.state.next({...s,...c.keepDirty?{isDirty:ce()}:{}}),!c.keepIsValid&&C()},zt=({disabled:u,name:c})=>{(de(u)&&o.mount||u||a.disabled.has(c))&&(u?a.disabled.add(c):a.disabled.delete(c))},gt=(u,c={})=>{let l=_(r,u);const v=de(c.disabled)||de(e.disabled);return P(r,u,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:u}},name:u,mount:!0,...c}}),a.mount.add(u),l?zt({disabled:de(c.disabled)?c.disabled:e.disabled,name:u}):W(u,!0,c.value),{...v?{disabled:c.disabled||e.disabled}:{},...e.progressive?{required:!!c.required,min:Ze(c.min),max:Ze(c.max),minLength:Ze(c.minLength),maxLength:Ze(c.maxLength),pattern:Ze(c.pattern)}:{},name:u,onChange:le,onBlur:le,ref:m=>{if(m){gt(u,c),l=_(r,u);const y=q(m.value)&&m.querySelectorAll&&m.querySelectorAll("input,select,textarea")[0]||m,k=gr(y),D=l._f.refs||[];if(k?D.find(I=>I===y):y===l._f.ref)return;P(r,u,{_f:{...l._f,...k?{refs:[...D.filter(xt),y,...Array.isArray(_(i,u))?[{}]:[]],ref:{type:y.type,name:u}}:{ref:y}}}),W(u,!1,void 0,y)}else l=_(r,u,{}),l._f&&(l._f.mount=!1),(e.shouldUnregister||c.shouldUnregister)&&!(lr(a.array,u)&&o.action)&&a.unMount.add(u)}}},vt=()=>e.shouldFocusError&&$e(r,Me,a.mount),Gs=u=>{de(u)&&(A.state.next({disabled:u}),$e(r,(c,l)=>{const v=_(r,l);v&&(c.disabled=v._f.disabled||u,Array.isArray(v._f.refs)&&v._f.refs.forEach(m=>{m.disabled=v._f.disabled||u}))},0,!1))},Wt=(u,c)=>async l=>{let v;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let m=Q(n);if(A.state.next({isSubmitting:!0}),e.resolver){const{errors:y,values:k}=await ve();s.errors=y,m=Q(k)}else await ne(r);if(a.disabled.size)for(const y of a.disabled)U(m,y);if(U(s.errors,"root"),X(s.errors)){A.state.next({errors:{}});try{await u(m,l)}catch(y){v=y}}else c&&await c({...s.errors},l),vt(),setTimeout(vt);if(A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:X(s.errors)&&!v,submitCount:s.submitCount+1,errors:s.errors}),v)throw v},Js=(u,c={})=>{_(r,u)&&(q(c.defaultValue)?Y(u,Q(_(i,u))):(Y(u,c.defaultValue),P(i,u,Q(c.defaultValue))),c.keepTouched||U(s.touchedFields,u),c.keepDirty||(U(s.dirtyFields,u),s.isDirty=c.defaultValue?ce(u,Q(_(i,u))):ce()),c.keepError||(U(s.errors,u),p.isValid&&C()),A.state.next({...s}))},Ht=(u,c={})=>{const l=u?Q(u):i,v=Q(l),m=X(u),y=m?i:v;if(c.keepDefaultValues||(i=l),!c.keepValues){if(c.keepDirtyValues){const k=new Set([...a.mount,...Object.keys(je(i,n))]);for(const D of Array.from(k))_(s.dirtyFields,D)?P(y,D,_(n,D)):Y(D,_(y,D))}else{if(Nt&&q(u))for(const k of a.mount){const D=_(r,k);if(D&&D._f){const I=Array.isArray(D._f.refs)?D._f.refs[0]:D._f.ref;if(Xe(I)){const re=I.closest("form");if(re){re.reset();break}}}}if(c.keepFieldsRef)for(const k of a.mount)Y(k,_(y,k));else r={}}n=e.shouldUnregister?c.keepDefaultValues?Q(i):{}:Q(y),A.array.next({values:{...y}}),A.state.next({values:{...y}})}a={mount:c.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!p.isValid||!!c.keepIsValid||!!c.keepDirtyValues,o.watch=!!e.shouldUnregister,A.state.next({submitCount:c.keepSubmitCount?s.submitCount:0,isDirty:m?!1:c.keepDirty?s.isDirty:!!(c.keepDefaultValues&&!xe(u,i)),isSubmitted:c.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:m?{}:c.keepDirtyValues?c.keepDefaultValues&&n?je(i,n):s.dirtyFields:c.keepDefaultValues&&u?je(i,u):c.keepDirty?s.dirtyFields:{},touchedFields:c.keepTouched?s.touchedFields:{},errors:c.keepErrors?s.errors:{},isSubmitSuccessful:c.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Kt=(u,c)=>Ht(ue(u)?u(n):u,c),Ys=(u,c={})=>{const l=_(r,u),v=l&&l._f;if(v){const m=v.refs?v.refs[0]:v.ref;m.focus&&(m.focus(),c.shouldSelect&&ue(m.select)&&m.select())}},Xs=u=>{s={...s,...u}},Gt={control:{register:gt,unregister:pt,getFieldState:qt,handleSubmit:Wt,setError:Bt,_subscribe:Qt,_runSchema:ve,_focusError:vt,_getWatch:V,_getDirty:ce,_setValid:C,_setFieldArray:J,_setDisabledField:zt,_setErrors:z,_getFieldArray:N,_reset:Ht,_resetDefaultValues:()=>ue(e.defaultValues)&&e.defaultValues().then(u=>{Kt(u,e.resetOptions),A.state.next({isLoading:!1})}),_removeUnmounted:Oe,_disableForm:Gs,_subjects:A,_proxyFormState:p,get _fields(){return r},get _formValues(){return n},get _state(){return o},set _state(u){o=u},get _defaultValues(){return i},get _names(){return a},set _names(u){a=u},get _formState(){return s},get _options(){return e},set _options(u){e={...e,...u}}},subscribe:Ks,trigger:Ve,register:gt,handleSubmit:Wt,watch:Hs,setValue:Y,getValues:He,reset:Kt,resetField:Js,clearErrors:Ws,unregister:pt,setError:Bt,setFocus:Ys,getFieldState:qt};return{...Gt,formControl:Gt}}function Ei(t={}){const e=te.useRef(void 0),s=te.useRef(void 0),[r,i]=te.useState({isDirty:!1,isValidating:!1,isLoading:ue(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ue(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!ue(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=Fr(t);e.current={...a,formState:r}}const n=e.current.control;return n._options=t,yr(()=>{const o=n._subscribe({formState:n._proxyFormState,callback:()=>i({...n._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),n._formState.isReady=!0,o},[n]),te.useEffect(()=>n._disableForm(t.disabled),[n,t.disabled]),te.useEffect(()=>{t.mode&&(n._options.mode=t.mode),t.reValidateMode&&(n._options.reValidateMode=t.reValidateMode)},[n,t.mode,t.reValidateMode]),te.useEffect(()=>{t.errors&&(n._setErrors(t.errors),n._focusError())},[n,t.errors]),te.useEffect(()=>{t.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,t.shouldUnregister]),te.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==r.isDirty&&n._subjects.state.next({isDirty:o})}},[n,r.isDirty]),te.useEffect(()=>{t.values&&!xe(t.values,s.current)?(n._reset(t.values,{keepFieldsRef:!0,...n._options.resetOptions}),s.current=t.values,i(o=>({...o}))):n._resetDefaultValues()},[n,t.values]),te.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),e.current.formState=hr(r,n),e.current}const fs=(t,e,s)=>{if(t&&"reportValidity"in t){const r=_(s,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Er=(t,e)=>{for(const s in e.fields){const r=e.fields[s];r&&r.ref&&"reportValidity"in r.ref?fs(r.ref,s,t):r.refs&&r.refs.forEach(i=>fs(i,s,t))}},Ri=(t,e)=>{e.shouldUseNativeValidation&&Er(t,e);const s={};for(const r in t){const i=_(e.fields,r),n=Object.assign(t[r]||{},{ref:i&&i.ref});if(Rr(e.names||Object.keys(t),r)){const o=Object.assign({},_(s,r));P(o,"root",n),P(s,r,o)}else P(s,r,n)}return s},Rr=(t,e)=>t.some(s=>s.startsWith(e+"."));var R;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function s(i){throw new Error}t.assertNever=s,t.arrayToEnum=i=>{const n={};for(const o of i)n[o]=o;return n},t.getValidEnumValues=i=>{const n=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of n)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(n){return i[n]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const n=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.push(o);return n},t.find=(i,n)=>{for(const o of i)if(n(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,n=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(n)}t.joinValues=r,t.jsonStringifyReplacer=(i,n)=>typeof n=="bigint"?n.toString():n})(R||(R={}));var hs;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(hs||(hs={}));const b=R.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),be=t=>{switch(typeof t){case"undefined":return b.undefined;case"string":return b.string;case"number":return Number.isNaN(t)?b.nan:b.number;case"boolean":return b.boolean;case"function":return b.function;case"bigint":return b.bigint;case"symbol":return b.symbol;case"object":return Array.isArray(t)?b.array:t===null?b.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?b.promise:typeof Map<"u"&&t instanceof Map?b.map:typeof Set<"u"&&t instanceof Set?b.set:typeof Date<"u"&&t instanceof Date?b.date:b.object;default:return b.unknown}},f=R.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ge extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(n){return n.message},r={_errors:[]},i=n=>{for(const o of n.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let a=r,d=0;for(;d<o.path.length;){const h=o.path[d];d===o.path.length-1?(a[h]=a[h]||{_errors:[]},a[h]._errors.push(s(o))):a[h]=a[h]||{_errors:[]},a=a[h],d++}}};return i(this),r}static assert(e){if(!(e instanceof ge))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,R.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const i of this.issues)if(i.path.length>0){const n=i.path[0];s[n]=s[n]||[],s[n].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}ge.create=t=>new ge(t);const At=(t,e)=>{let s;switch(t.code){case f.invalid_type:t.received===b.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case f.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,R.jsonStringifyReplacer)}`;break;case f.unrecognized_keys:s=`Unrecognized key(s) in object: ${R.joinValues(t.keys,", ")}`;break;case f.invalid_union:s="Invalid input";break;case f.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${R.joinValues(t.options)}`;break;case f.invalid_enum_value:s=`Invalid enum value. Expected ${R.joinValues(t.options)}, received '${t.received}'`;break;case f.invalid_arguments:s="Invalid function arguments";break;case f.invalid_return_type:s="Invalid function return type";break;case f.invalid_date:s="Invalid date";break;case f.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:R.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case f.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case f.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case f.custom:s="Invalid input";break;case f.invalid_intersection_types:s="Intersection results could not be merged";break;case f.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case f.not_finite:s="Number must be finite";break;default:s=e.defaultError,R.assertNever(t)}return{message:s}};let Vr=At;function Dr(){return Vr}const Nr=t=>{const{data:e,path:s,errorMaps:r,issueData:i}=t,n=[...s,...i.path||[]],o={...i,path:n};if(i.message!==void 0)return{...i,path:n,message:i.message};let a="";const d=r.filter(h=>!!h).slice().reverse();for(const h of d)a=h(o,{data:e,defaultError:a}).message;return{...i,path:n,message:a}};function g(t,e){const s=Dr(),r=Nr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===At?void 0:At].filter(i=>!!i)});t.common.issues.push(r)}class se{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const i of s){if(i.status==="aborted")return S;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const i of s){const n=await i.key,o=await i.value;r.push({key:n,value:o})}return se.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const i of s){const{key:n,value:o}=i;if(n.status==="aborted"||o.status==="aborted")return S;n.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[n.value]=o.value)}return{status:e.value,value:r}}}const S=Object.freeze({status:"aborted"}),Le=t=>({status:"dirty",value:t}),ie=t=>({status:"valid",value:t}),ys=t=>t.status==="aborted",ms=t=>t.status==="dirty",Pe=t=>t.status==="valid",st=t=>typeof Promise<"u"&&t instanceof Promise;var x;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(x||(x={}));class we{constructor(e,s,r,i){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ps=(t,e)=>{if(Pe(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new ge(t.common.issues);return this._error=s,this._error}}};function F(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:i}=t;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:d??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:d??s??a.defaultError}},description:i}}class E{get description(){return this._def.description}_getType(e){return be(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:be(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new se,ctx:{common:e.parent.common,data:e.data,parsedType:be(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(st(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){const r={common:{issues:[],async:s?.async??!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:be(e)},i=this._parseSync({data:e,path:r.path,parent:r});return ps(r,i)}"~validate"(e){const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:be(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:s});return Pe(r)?{value:r.value}:{issues:s.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(r=>Pe(r)?{value:r.value}:{issues:s.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:be(e)},i=this._parse({data:e,path:r.path,parent:r}),n=await(st(i)?i:Promise.resolve(i));return ps(r,n)}refine(e,s){const r=i=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(i):s;return this._refinement((i,n)=>{const o=e(i),a=()=>n.addIssue({code:f.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,s){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof s=="function"?s(r,i):s),!1))}_refinement(e){return new Ee({schema:this,typeName:O.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return pe.create(this,this._def)}nullable(){return Re.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return he.create(this)}promise(){return ot.create(this,this._def)}or(e){return it.create([this,e],this._def)}and(e){return nt.create(this,e,this._def)}transform(e){return new Ee({...F(this._def),schema:this,typeName:O.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new ut({...F(this._def),innerType:this,defaultValue:s,typeName:O.ZodDefault})}brand(){return new Zs({typeName:O.ZodBranded,type:this,...F(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new ct({...F(this._def),innerType:this,catchValue:s,typeName:O.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return Lt.create(this,e)}readonly(){return lt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pr=/^c[^\s-]{8,}$/i,Ir=/^[0-9a-z]+$/,Mr=/^[0-9A-HJKMNP-TV-Z]{26}$/i,jr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Zr=/^[a-z0-9_-]{21}$/i,Lr=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ur=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$r=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,qr="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let kt;const Br=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zr=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Wr=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Hr=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Kr=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Is="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Gr=new RegExp(`^${Is}$`);function Ms(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const s=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${s}`}function Jr(t){return new RegExp(`^${Ms(t)}$`)}function Yr(t){let e=`${Is}T${Ms(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function Xr(t,e){return!!((e==="v4"||!e)&&Br.test(t)||(e==="v6"||!e)&&zr.test(t))}function ei(t,e){if(!Lr.test(t))return!1;try{const[s]=t.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function ti(t,e){return!!((e==="v4"||!e)&&Qr.test(t)||(e==="v6"||!e)&&Wr.test(t))}class ke extends E{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==b.string){const n=this._getOrReturnCtx(e);return g(n,{code:f.invalid_type,expected:b.string,received:n.parsedType}),S}const r=new se;let i;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:f.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="max")e.data.length>n.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:f.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="length"){const o=e.data.length>n.value,a=e.data.length<n.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?g(i,{code:f.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):a&&g(i,{code:f.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),r.dirty())}else if(n.kind==="email")$r.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"email",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="emoji")kt||(kt=new RegExp(qr,"u")),kt.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"emoji",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="uuid")jr.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"uuid",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="nanoid")Zr.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"nanoid",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid")Pr.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"cuid",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid2")Ir.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"cuid2",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="ulid")Mr.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"ulid",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),g(i,{validation:"url",code:f.invalid_string,message:n.message}),r.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"regex",code:f.invalid_string,message:n.message}),r.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(i=this._getOrReturnCtx(e,i),g(i,{code:f.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),r.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(i=this._getOrReturnCtx(e,i),g(i,{code:f.invalid_string,validation:{startsWith:n.value},message:n.message}),r.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(i=this._getOrReturnCtx(e,i),g(i,{code:f.invalid_string,validation:{endsWith:n.value},message:n.message}),r.dirty()):n.kind==="datetime"?Yr(n).test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{code:f.invalid_string,validation:"datetime",message:n.message}),r.dirty()):n.kind==="date"?Gr.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{code:f.invalid_string,validation:"date",message:n.message}),r.dirty()):n.kind==="time"?Jr(n).test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{code:f.invalid_string,validation:"time",message:n.message}),r.dirty()):n.kind==="duration"?Ur.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"duration",code:f.invalid_string,message:n.message}),r.dirty()):n.kind==="ip"?Xr(e.data,n.version)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"ip",code:f.invalid_string,message:n.message}),r.dirty()):n.kind==="jwt"?ei(e.data,n.alg)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"jwt",code:f.invalid_string,message:n.message}),r.dirty()):n.kind==="cidr"?ti(e.data,n.version)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"cidr",code:f.invalid_string,message:n.message}),r.dirty()):n.kind==="base64"?Hr.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"base64",code:f.invalid_string,message:n.message}),r.dirty()):n.kind==="base64url"?Kr.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"base64url",code:f.invalid_string,message:n.message}),r.dirty()):R.assertNever(n);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(i=>e.test(i),{validation:s,code:f.invalid_string,...x.errToObj(r)})}_addCheck(e){return new ke({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...x.errToObj(e)})}url(e){return this._addCheck({kind:"url",...x.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...x.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...x.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...x.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...x.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...x.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...x.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...x.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...x.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...x.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...x.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...x.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...x.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...x.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...x.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...x.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s?.position,...x.errToObj(s?.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...x.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...x.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...x.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...x.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...x.errToObj(s)})}nonempty(e){return this.min(1,x.errToObj(e))}trim(){return new ke({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ke({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ke({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}ke.create=t=>new ke({checks:[],typeName:O.ZodString,coerce:t?.coerce??!1,...F(t)});function si(t,e){const s=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=s>r?s:r,n=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return n%o/10**i}class Ie extends E{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==b.number){const n=this._getOrReturnCtx(e);return g(n,{code:f.invalid_type,expected:b.number,received:n.parsedType}),S}let r;const i=new se;for(const n of this._def.checks)n.kind==="int"?R.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),g(r,{code:f.invalid_type,expected:"integer",received:"float",message:n.message}),i.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:f.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:f.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="multipleOf"?si(e.data,n.value)!==0&&(r=this._getOrReturnCtx(e,r),g(r,{code:f.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),g(r,{code:f.not_finite,message:n.message}),i.dirty()):R.assertNever(n);return{status:i.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,x.toString(s))}gt(e,s){return this.setLimit("min",e,!1,x.toString(s))}lte(e,s){return this.setLimit("max",e,!0,x.toString(s))}lt(e,s){return this.setLimit("max",e,!1,x.toString(s))}setLimit(e,s,r,i){return new Ie({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:x.toString(i)}]})}_addCheck(e){return new Ie({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:x.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:x.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:x.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:x.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:x.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&R.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}Ie.create=t=>new Ie({checks:[],typeName:O.ZodNumber,coerce:t?.coerce||!1,...F(t)});class qe extends E{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==b.bigint)return this._getInvalidInput(e);let r;const i=new se;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:f.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:f.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),g(r,{code:f.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):R.assertNever(n);return{status:i.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return g(s,{code:f.invalid_type,expected:b.bigint,received:s.parsedType}),S}gte(e,s){return this.setLimit("min",e,!0,x.toString(s))}gt(e,s){return this.setLimit("min",e,!1,x.toString(s))}lte(e,s){return this.setLimit("max",e,!0,x.toString(s))}lt(e,s){return this.setLimit("max",e,!1,x.toString(s))}setLimit(e,s,r,i){return new qe({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:x.toString(i)}]})}_addCheck(e){return new qe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:x.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}qe.create=t=>new qe({checks:[],typeName:O.ZodBigInt,coerce:t?.coerce??!1,...F(t)});class Ot extends E{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==b.boolean){const r=this._getOrReturnCtx(e);return g(r,{code:f.invalid_type,expected:b.boolean,received:r.parsedType}),S}return ie(e.data)}}Ot.create=t=>new Ot({typeName:O.ZodBoolean,coerce:t?.coerce||!1,...F(t)});class rt extends E{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==b.date){const n=this._getOrReturnCtx(e);return g(n,{code:f.invalid_type,expected:b.date,received:n.parsedType}),S}if(Number.isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return g(n,{code:f.invalid_date}),S}const r=new se;let i;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:f.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:f.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):R.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new rt({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:x.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:x.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}rt.create=t=>new rt({checks:[],coerce:t?.coerce||!1,typeName:O.ZodDate,...F(t)});class gs extends E{_parse(e){if(this._getType(e)!==b.symbol){const r=this._getOrReturnCtx(e);return g(r,{code:f.invalid_type,expected:b.symbol,received:r.parsedType}),S}return ie(e.data)}}gs.create=t=>new gs({typeName:O.ZodSymbol,...F(t)});class Ct extends E{_parse(e){if(this._getType(e)!==b.undefined){const r=this._getOrReturnCtx(e);return g(r,{code:f.invalid_type,expected:b.undefined,received:r.parsedType}),S}return ie(e.data)}}Ct.create=t=>new Ct({typeName:O.ZodUndefined,...F(t)});class Tt extends E{_parse(e){if(this._getType(e)!==b.null){const r=this._getOrReturnCtx(e);return g(r,{code:f.invalid_type,expected:b.null,received:r.parsedType}),S}return ie(e.data)}}Tt.create=t=>new Tt({typeName:O.ZodNull,...F(t)});class vs extends E{constructor(){super(...arguments),this._any=!0}_parse(e){return ie(e.data)}}vs.create=t=>new vs({typeName:O.ZodAny,...F(t)});class _s extends E{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ie(e.data)}}_s.create=t=>new _s({typeName:O.ZodUnknown,...F(t)});class Se extends E{_parse(e){const s=this._getOrReturnCtx(e);return g(s,{code:f.invalid_type,expected:b.never,received:s.parsedType}),S}}Se.create=t=>new Se({typeName:O.ZodNever,...F(t)});class bs extends E{_parse(e){if(this._getType(e)!==b.undefined){const r=this._getOrReturnCtx(e);return g(r,{code:f.invalid_type,expected:b.void,received:r.parsedType}),S}return ie(e.data)}}bs.create=t=>new bs({typeName:O.ZodVoid,...F(t)});class he extends E{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),i=this._def;if(s.parsedType!==b.array)return g(s,{code:f.invalid_type,expected:b.array,received:s.parsedType}),S;if(i.exactLength!==null){const o=s.data.length>i.exactLength.value,a=s.data.length<i.exactLength.value;(o||a)&&(g(s,{code:o?f.too_big:f.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&s.data.length<i.minLength.value&&(g(s,{code:f.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&s.data.length>i.maxLength.value&&(g(s,{code:f.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,a)=>i.type._parseAsync(new we(s,o,s.path,a)))).then(o=>se.mergeArray(r,o));const n=[...s.data].map((o,a)=>i.type._parseSync(new we(s,o,s.path,a)));return se.mergeArray(r,n)}get element(){return this._def.type}min(e,s){return new he({...this._def,minLength:{value:e,message:x.toString(s)}})}max(e,s){return new he({...this._def,maxLength:{value:e,message:x.toString(s)}})}length(e,s){return new he({...this._def,exactLength:{value:e,message:x.toString(s)}})}nonempty(e){return this.min(1,e)}}he.create=(t,e)=>new he({type:t,minLength:null,maxLength:null,exactLength:null,typeName:O.ZodArray,...F(e)});function Ne(t){if(t instanceof $){const e={};for(const s in t.shape){const r=t.shape[s];e[s]=pe.create(Ne(r))}return new $({...t._def,shape:()=>e})}else return t instanceof he?new he({...t._def,type:Ne(t.element)}):t instanceof pe?pe.create(Ne(t.unwrap())):t instanceof Re?Re.create(Ne(t.unwrap())):t instanceof Te?Te.create(t.items.map(e=>Ne(e))):t}class $ extends E{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=R.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==b.object){const h=this._getOrReturnCtx(e);return g(h,{code:f.invalid_type,expected:b.object,received:h.parsedType}),S}const{status:r,ctx:i}=this._processInputParams(e),{shape:n,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Se&&this._def.unknownKeys==="strip"))for(const h in i.data)o.includes(h)||a.push(h);const d=[];for(const h of o){const p=n[h],w=i.data[h];d.push({key:{status:"valid",value:h},value:p._parse(new we(i,w,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof Se){const h=this._def.unknownKeys;if(h==="passthrough")for(const p of a)d.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(h==="strict")a.length>0&&(g(i,{code:f.unrecognized_keys,keys:a}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const p of a){const w=i.data[p];d.push({key:{status:"valid",value:p},value:h._parse(new we(i,w,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const p of d){const w=await p.key,A=await p.value;h.push({key:w,value:A,alwaysSet:p.alwaysSet})}return h}).then(h=>se.mergeObjectSync(r,h)):se.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return x.errToObj,new $({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{const i=this._def.errorMap?.(s,r).message??r.defaultError;return s.code==="unrecognized_keys"?{message:x.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new $({...this._def,unknownKeys:"strip"})}passthrough(){return new $({...this._def,unknownKeys:"passthrough"})}extend(e){return new $({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:O.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new $({...this._def,catchall:e})}pick(e){const s={};for(const r of R.objectKeys(e))e[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new $({...this._def,shape:()=>s})}omit(e){const s={};for(const r of R.objectKeys(this.shape))e[r]||(s[r]=this.shape[r]);return new $({...this._def,shape:()=>s})}deepPartial(){return Ne(this)}partial(e){const s={};for(const r of R.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?s[r]=i:s[r]=i.optional()}return new $({...this._def,shape:()=>s})}required(e){const s={};for(const r of R.objectKeys(this.shape))if(e&&!e[r])s[r]=this.shape[r];else{let n=this.shape[r];for(;n instanceof pe;)n=n._def.innerType;s[r]=n}return new $({...this._def,shape:()=>s})}keyof(){return js(R.objectKeys(this.shape))}}$.create=(t,e)=>new $({shape:()=>t,unknownKeys:"strip",catchall:Se.create(),typeName:O.ZodObject,...F(e)});$.strictCreate=(t,e)=>new $({shape:()=>t,unknownKeys:"strict",catchall:Se.create(),typeName:O.ZodObject,...F(e)});$.lazycreate=(t,e)=>new $({shape:t,unknownKeys:"strip",catchall:Se.create(),typeName:O.ZodObject,...F(e)});class it extends E{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function i(n){for(const a of n)if(a.result.status==="valid")return a.result;for(const a of n)if(a.result.status==="dirty")return s.common.issues.push(...a.ctx.common.issues),a.result;const o=n.map(a=>new ge(a.ctx.common.issues));return g(s,{code:f.invalid_union,unionErrors:o}),S}if(s.common.async)return Promise.all(r.map(async n=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await n._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(i);{let n;const o=[];for(const d of r){const h={...s,common:{...s.common,issues:[]},parent:null},p=d._parseSync({data:s.data,path:s.path,parent:h});if(p.status==="valid")return p;p.status==="dirty"&&!n&&(n={result:p,ctx:h}),h.common.issues.length&&o.push(h.common.issues)}if(n)return s.common.issues.push(...n.ctx.common.issues),n.result;const a=o.map(d=>new ge(d));return g(s,{code:f.invalid_union,unionErrors:a}),S}}get options(){return this._def.options}}it.create=(t,e)=>new it({options:t,typeName:O.ZodUnion,...F(e)});const me=t=>t instanceof Et?me(t.schema):t instanceof Ee?me(t.innerType()):t instanceof at?[t.value]:t instanceof Fe?t.options:t instanceof Rt?R.objectValues(t.enum):t instanceof ut?me(t._def.innerType):t instanceof Ct?[void 0]:t instanceof Tt?[null]:t instanceof pe?[void 0,...me(t.unwrap())]:t instanceof Re?[null,...me(t.unwrap())]:t instanceof Zs||t instanceof lt?me(t.unwrap()):t instanceof ct?me(t._def.innerType):[];class Zt extends E{_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==b.object)return g(s,{code:f.invalid_type,expected:b.object,received:s.parsedType}),S;const r=this.discriminator,i=s.data[r],n=this.optionsMap.get(i);return n?s.common.async?n._parseAsync({data:s.data,path:s.path,parent:s}):n._parseSync({data:s.data,path:s.path,parent:s}):(g(s,{code:f.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),S)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,s,r){const i=new Map;for(const n of s){const o=me(n.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,n)}}return new Zt({typeName:O.ZodDiscriminatedUnion,discriminator:e,options:s,optionsMap:i,...F(r)})}}function Ft(t,e){const s=be(t),r=be(e);if(t===e)return{valid:!0,data:t};if(s===b.object&&r===b.object){const i=R.objectKeys(e),n=R.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of n){const d=Ft(t[a],e[a]);if(!d.valid)return{valid:!1};o[a]=d.data}return{valid:!0,data:o}}else if(s===b.array&&r===b.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let n=0;n<t.length;n++){const o=t[n],a=e[n],d=Ft(o,a);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return s===b.date&&r===b.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class nt extends E{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),i=(n,o)=>{if(ys(n)||ys(o))return S;const a=Ft(n.value,o.value);return a.valid?((ms(n)||ms(o))&&s.dirty(),{status:s.value,value:a.data}):(g(r,{code:f.invalid_intersection_types}),S)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([n,o])=>i(n,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}nt.create=(t,e,s)=>new nt({left:t,right:e,typeName:O.ZodIntersection,...F(s)});class Te extends E{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.array)return g(r,{code:f.invalid_type,expected:b.array,received:r.parsedType}),S;if(r.data.length<this._def.items.length)return g(r,{code:f.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),S;!this._def.rest&&r.data.length>this._def.items.length&&(g(r,{code:f.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const n=[...r.data].map((o,a)=>{const d=this._def.items[a]||this._def.rest;return d?d._parse(new we(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(n).then(o=>se.mergeArray(s,o)):se.mergeArray(s,n)}get items(){return this._def.items}rest(e){return new Te({...this._def,rest:e})}}Te.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Te({items:t,typeName:O.ZodTuple,rest:null,...F(e)})};class xs extends E{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.map)return g(r,{code:f.invalid_type,expected:b.map,received:r.parsedType}),S;const i=this._def.keyType,n=this._def.valueType,o=[...r.data.entries()].map(([a,d],h)=>({key:i._parse(new we(r,a,r.path,[h,"key"])),value:n._parse(new we(r,d,r.path,[h,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const d of o){const h=await d.key,p=await d.value;if(h.status==="aborted"||p.status==="aborted")return S;(h.status==="dirty"||p.status==="dirty")&&s.dirty(),a.set(h.value,p.value)}return{status:s.value,value:a}})}else{const a=new Map;for(const d of o){const h=d.key,p=d.value;if(h.status==="aborted"||p.status==="aborted")return S;(h.status==="dirty"||p.status==="dirty")&&s.dirty(),a.set(h.value,p.value)}return{status:s.value,value:a}}}}xs.create=(t,e,s)=>new xs({valueType:e,keyType:t,typeName:O.ZodMap,...F(s)});class Be extends E{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.set)return g(r,{code:f.invalid_type,expected:b.set,received:r.parsedType}),S;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(g(r,{code:f.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),s.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(g(r,{code:f.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),s.dirty());const n=this._def.valueType;function o(d){const h=new Set;for(const p of d){if(p.status==="aborted")return S;p.status==="dirty"&&s.dirty(),h.add(p.value)}return{status:s.value,value:h}}const a=[...r.data.values()].map((d,h)=>n._parse(new we(r,d,r.path,h)));return r.common.async?Promise.all(a).then(d=>o(d)):o(a)}min(e,s){return new Be({...this._def,minSize:{value:e,message:x.toString(s)}})}max(e,s){return new Be({...this._def,maxSize:{value:e,message:x.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}Be.create=(t,e)=>new Be({valueType:t,minSize:null,maxSize:null,typeName:O.ZodSet,...F(e)});class Et extends E{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Et.create=(t,e)=>new Et({getter:t,typeName:O.ZodLazy,...F(e)});class at extends E{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return g(s,{received:s.data,code:f.invalid_literal,expected:this._def.value}),S}return{status:"valid",value:e.data}}get value(){return this._def.value}}at.create=(t,e)=>new at({value:t,typeName:O.ZodLiteral,...F(e)});function js(t,e){return new Fe({values:t,typeName:O.ZodEnum,...F(e)})}class Fe extends E{_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return g(s,{expected:R.joinValues(r),received:s.parsedType,code:f.invalid_type}),S}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return g(s,{received:s.data,code:f.invalid_enum_value,options:r}),S}return ie(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return Fe.create(e,{...this._def,...s})}exclude(e,s=this._def){return Fe.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}Fe.create=js;class Rt extends E{_parse(e){const s=R.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==b.string&&r.parsedType!==b.number){const i=R.objectValues(s);return g(r,{expected:R.joinValues(i),received:r.parsedType,code:f.invalid_type}),S}if(this._cache||(this._cache=new Set(R.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=R.objectValues(s);return g(r,{received:r.data,code:f.invalid_enum_value,options:i}),S}return ie(e.data)}get enum(){return this._def.values}}Rt.create=(t,e)=>new Rt({values:t,typeName:O.ZodNativeEnum,...F(e)});class ot extends E{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==b.promise&&s.common.async===!1)return g(s,{code:f.invalid_type,expected:b.promise,received:s.parsedType}),S;const r=s.parsedType===b.promise?s.data:Promise.resolve(s.data);return ie(r.then(i=>this._def.type.parseAsync(i,{path:s.path,errorMap:s.common.contextualErrorMap})))}}ot.create=(t,e)=>new ot({type:t,typeName:O.ZodPromise,...F(e)});class Ee extends E{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===O.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),i=this._def.effect||null,n={addIssue:o=>{g(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),i.type==="preprocess"){const o=i.transform(r.data,n);if(r.common.async)return Promise.resolve(o).then(async a=>{if(s.value==="aborted")return S;const d=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return d.status==="aborted"?S:d.status==="dirty"||s.value==="dirty"?Le(d.value):d});{if(s.value==="aborted")return S;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?S:a.status==="dirty"||s.value==="dirty"?Le(a.value):a}}if(i.type==="refinement"){const o=a=>{const d=i.refinement(a,n);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?S:(a.status==="dirty"&&s.dirty(),o(a.value),{status:s.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?S:(a.status==="dirty"&&s.dirty(),o(a.value).then(()=>({status:s.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Pe(o))return S;const a=i.transform(o.value,n);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Pe(o)?Promise.resolve(i.transform(o.value,n)).then(a=>({status:s.value,value:a})):S);R.assertNever(i)}}Ee.create=(t,e,s)=>new Ee({schema:t,typeName:O.ZodEffects,effect:e,...F(s)});Ee.createWithPreprocess=(t,e,s)=>new Ee({schema:e,effect:{type:"preprocess",transform:t},typeName:O.ZodEffects,...F(s)});class pe extends E{_parse(e){return this._getType(e)===b.undefined?ie(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pe.create=(t,e)=>new pe({innerType:t,typeName:O.ZodOptional,...F(e)});class Re extends E{_parse(e){return this._getType(e)===b.null?ie(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Re.create=(t,e)=>new Re({innerType:t,typeName:O.ZodNullable,...F(e)});class ut extends E{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===b.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}ut.create=(t,e)=>new ut({innerType:t,typeName:O.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...F(e)});class ct extends E{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return st(i)?i.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ge(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ge(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ct.create=(t,e)=>new ct({innerType:t,typeName:O.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...F(e)});class ks extends E{_parse(e){if(this._getType(e)!==b.nan){const r=this._getOrReturnCtx(e);return g(r,{code:f.invalid_type,expected:b.nan,received:r.parsedType}),S}return{status:"valid",value:e.data}}}ks.create=t=>new ks({typeName:O.ZodNaN,...F(t)});class Zs extends E{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class Lt extends E{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?S:n.status==="dirty"?(s.dirty(),Le(n.value)):this._def.out._parseAsync({data:n.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?S:i.status==="dirty"?(s.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,s){return new Lt({in:e,out:s,typeName:O.ZodPipeline})}}class lt extends E{_parse(e){const s=this._def.innerType._parse(e),r=i=>(Pe(i)&&(i.value=Object.freeze(i.value)),i);return st(s)?s.then(i=>r(i)):r(s)}unwrap(){return this._def.innerType}}lt.create=(t,e)=>new lt({innerType:t,typeName:O.ZodReadonly,...F(e)});var O;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(O||(O={}));const Vi=ke.create,Di=Ie.create,Ni=Ot.create;Se.create;const Pi=he.create,Ii=$.create;it.create;const Mi=Zt.create;nt.create;Te.create;const ji=at.create,Zi=Fe.create;ot.create;pe.create;Re.create;var ht=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yt=typeof window>"u"||"Deno"in globalThis;function ae(){}function ri(t,e){return typeof t=="function"?t(e):t}function ii(t){return typeof t=="number"&&t>=0&&t!==1/0}function ni(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Vt(t,e){return typeof t=="function"?t(e):t}function ai(t,e){return typeof t=="function"?t(e):t}function ws(t,e){const{type:s="all",exact:r,fetchStatus:i,predicate:n,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ut(o,e.options))return!1}else if(!ze(e.queryKey,o))return!1}if(s!=="all"){const d=e.isActive();if(s==="active"&&!d||s==="inactive"&&d)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||n&&!n(e))}function Ss(t,e){const{exact:s,status:r,predicate:i,mutationKey:n}=t;if(n){if(!e.options.mutationKey)return!1;if(s){if(Qe(e.options.mutationKey)!==Qe(n))return!1}else if(!ze(e.options.mutationKey,n))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Ut(t,e){return(e?.queryKeyHashFn||Qe)(t)}function Qe(t){return JSON.stringify(t,(e,s)=>Dt(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function ze(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>ze(t[s],e[s])):!1}function Ls(t,e){if(t===e)return t;const s=As(t)&&As(e);if(s||Dt(t)&&Dt(e)){const r=s?t:Object.keys(t),i=r.length,n=s?e:Object.keys(e),o=n.length,a=s?[]:{},d=new Set(r);let h=0;for(let p=0;p<o;p++){const w=s?p:n[p];(!s&&d.has(w)||s)&&t[w]===void 0&&e[w]===void 0?(a[w]=void 0,h++):(a[w]=Ls(t[w],e[w]),a[w]===t[w]&&t[w]!==void 0&&h++)}return i===o&&h===i?t:a}return e}function As(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dt(t){if(!Os(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Os(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Os(t){return Object.prototype.toString.call(t)==="[object Object]"}function oi(t){return new Promise(e=>{setTimeout(e,t)})}function ui(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Ls(t,e):e}function ci(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function li(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var $t=Symbol();function Us(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===$t?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var di=class extends ht{#e;#t;#s;constructor(){super(),this.#s=t=>{if(!yt&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},$s=new di,fi=class extends ht{#e=!0;#t;#s;constructor(){super(),this.#s=t=>{if(!yt&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(s=>{s(t)}))}isOnline(){return this.#e}},dt=new fi;function hi(){let t,e;const s=new Promise((i,n)=>{t=i,e=n});s.status="pending",s.catch(()=>{});function r(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},s.reject=i=>{r({status:"rejected",reason:i}),e(i)},s}function yi(t){return Math.min(1e3*2**t,3e4)}function qs(t){return(t??"online")==="online"?dt.isOnline():!0}var Bs=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function wt(t){return t instanceof Bs}function Qs(t){let e=!1,s=0,r=!1,i;const n=hi(),o=C=>{r||(A(new Bs(C)),t.abort?.())},a=()=>{e=!0},d=()=>{e=!1},h=()=>$s.isFocused()&&(t.networkMode==="always"||dt.isOnline())&&t.canRun(),p=()=>qs(t.networkMode)&&t.canRun(),w=C=>{r||(r=!0,t.onSuccess?.(C),i?.(),n.resolve(C))},A=C=>{r||(r=!0,t.onError?.(C),i?.(),n.reject(C))},ee=()=>new Promise(C=>{i=B=>{(r||h())&&C(B)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),M=()=>{if(r)return;let C;const B=s===0?t.initialPromise:void 0;try{C=B??t.fn()}catch(J){C=Promise.reject(J)}Promise.resolve(C).then(w).catch(J=>{if(r)return;const T=t.retry??(yt?0:3),z=t.retryDelay??yi,W=typeof z=="function"?z(s,J):z,j=T===!0||typeof T=="number"&&s<T||typeof T=="function"&&T(s,J);if(e||!j){A(J);return}s++,t.onFail?.(s,J),oi(W).then(()=>h()?void 0:ee()).then(()=>{e?A(J):M()})})};return{promise:n,cancel:o,continue:()=>(i?.(),n),cancelRetry:a,continueRetry:d,canStart:p,start:()=>(p()?M():ee().then(M),n)}}var mi=t=>setTimeout(t,0);function pi(){let t=[],e=0,s=a=>{a()},r=a=>{a()},i=mi;const n=a=>{e?t.push(a):i(()=>{s(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(d=>{s(d)})})})};return{batch:a=>{let d;e++;try{d=a()}finally{e--,e||o()}return d},batchCalls:a=>(...d)=>{n(()=>{a(...d)})},schedule:n,setNotifyFunction:a=>{s=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var G=pi(),zs=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ii(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yt?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},gi=class extends zs{#e;#t;#s;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#s=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=_i(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,e){const s=ui(this.state.data,t,this.options);return this.#n({data:s,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),s}setState(t,e){this.#n({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(ae).catch(ae):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>ai(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$t||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Vt(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ni(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},i=()=>{const d=Us(this.options,e),p=(()=>{const w={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(w),w})();return this.#o=!1,this.options.persister?this.options.persister(d,p,this):d(p)},o=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(d),d})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#n({type:"fetch",meta:o.fetchOptions?.meta});const a=d=>{wt(d)&&d.silent||this.#n({type:"error",error:d}),wt(d)||(this.#s.config.onError?.(d,this),this.#s.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#r=Qs({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:d=>{if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(h){a(h);return}this.#s.config.onSuccess?.(d,this),this.#s.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,h)=>{this.#n({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#r.start()}#n(t){const e=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...vi(s.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return wt(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=e(this.state),G.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function vi(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qs(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _i(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var bi=class extends ht{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,s){const r=e.queryKey,i=e.queryHash??Ut(r,e);let n=this.get(i);return n||(n=new gi({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(r)}),this.add(n)),n}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){G.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(s=>ws(e,s))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(s=>ws(t,s)):e}notify(t){G.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){G.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){G.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xi=class extends zs{#e;#t;#s;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||ki(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})};this.#s=Qs({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,n)=>{this.#i({type:"failed",failureCount:i,error:n})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",r=!this.#s.canStart();try{if(s)e();else{this.#i({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const n=await this.options.onMutate?.(t);n!==this.state.context&&this.#i({type:"pending",context:n,variables:t,isPaused:r})}const i=await this.#s.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#i({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#i({type:"error",error:i})}}finally{this.#t.runNext(this)}}#i(t){const e=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),G.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function ki(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wi=class extends ht{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(t,e,s){const r=new xi({mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(e),state:s});return this.add(r),r}add(t){this.#e.add(t);const e=Ge(t);if(typeof e=="string"){const s=this.#t.get(e);s?s.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Ge(t);if(typeof e=="string"){const s=this.#t.get(e);if(s)if(s.length>1){const r=s.indexOf(t);r!==-1&&s.splice(r,1)}else s[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Ge(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Ge(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){G.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(s=>Ss(e,s))}findAll(t={}){return this.getAll().filter(e=>Ss(t,e))}notify(t){G.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return G.batch(()=>Promise.all(t.map(e=>e.continue().catch(ae))))}};function Ge(t){return t.options.scope?.id}function Cs(t){return{onFetch:(e,s)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,n=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},d=0;const h=async()=>{let p=!1;const w=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},A=Us(e.options,e.fetchOptions),ee=async(M,C,B)=>{if(p)return Promise.reject();if(C==null&&M.pages.length)return Promise.resolve(M);const T=(()=>{const Ae={client:e.client,queryKey:e.queryKey,pageParam:C,direction:B?"backward":"forward",meta:e.options.meta};return w(Ae),Ae})(),z=await A(T),{maxPages:W}=e.options,j=B?li:ci;return{pages:j(M.pages,z,W),pageParams:j(M.pageParams,C,W)}};if(i&&n.length){const M=i==="backward",C=M?Si:Ts,B={pages:n,pageParams:o},J=C(r,B);a=await ee(B,J,M)}else{const M=t??n.length;do{const C=d===0?o[0]??r.initialPageParam:Ts(r,a);if(d>0&&C==null)break;a=await ee(a,C),d++}while(d<M)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=h}}}function Ts(t,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,s[r],s):void 0}function Si(t,{pages:e,pageParams:s}){return e.length>0?t.getPreviousPageParam?.(e[0],e,s[0],s):void 0}var Li=class{#e;#t;#s;#i;#r;#a;#o;#n;constructor(t={}){this.#e=t.queryCache||new bi,this.#t=t.mutationCache||new wi,this.#s=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=$s.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#n=dt.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#n?.(),this.#n=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=this.#e.build(this,e),r=s.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Vt(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),n=this.#e.get(r.queryHash)?.state.data,o=ri(e,n);if(o!==void 0)return this.#e.build(this,r).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return G.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;G.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=this.#e;return G.batch(()=>(s.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},r=G.batch(()=>this.#e.findAll(t).map(i=>i.cancel(s)));return Promise.all(r).then(ae).catch(ae)}invalidateQueries(t,e={}){return G.batch(()=>(this.#e.findAll(t).forEach(s=>{s.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},r=G.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let n=i.fetch(void 0,s);return s.throwOnError||(n=n.catch(ae)),i.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(r).then(ae)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=this.#e.build(this,e);return s.isStaleByTime(Vt(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ae).catch(ae)}fetchInfiniteQuery(t){return t.behavior=Cs(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ae).catch(ae)}ensureInfiniteQueryData(t){return t.behavior=Cs(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return dt.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,e){this.#i.set(Qe(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],s={};return e.forEach(r=>{ze(t,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(t,e){this.#r.set(Qe(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],s={};return e.forEach(r=>{ze(t,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ut(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===$t&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Ai=Ye.createContext(void 0),Ui=({client:t,children:e})=>(Ye.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),rr.jsx(Ai.Provider,{value:t,children:e}));export{Li as Q,pr as a,Ii as b,Fi as c,Ui as d,Zi as e,Pi as f,Mi as g,Ni as h,ji as l,Di as n,Er as o,Ri as r,Vi as s,Ei as u};
